<!DOCTYPE html><html class="no-js"><head><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="twitter:card" content="summary" /><meta name="robots" content="noindex" /><meta property="og:title" content="AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]) - Unity Scripting API" /><title>AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]) - Unity Scripting API</title><meta name="description" content="为每个在导入文件中至少附加了一个用户属性的游戏对象调用此函数。" /><meta property="og:description" content="为每个在导入文件中至少附加了一个用户属性的游戏对象调用此函数。" /><meta name="author" content="Unity Technologies" /><link rel="shortcut icon" href="../StaticFiles/images/favicons/favicon.ico" /><link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png" /><link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png" /><link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png" /><link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png" /><link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png" /><link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png" /><link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png" /><meta name="msapplication-TileColor" content="#222c37" /><meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png" /><script>
      var docs_type = 'ScriptReference';
      var lang = 'zh_CN';
      var page = 'AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[])';
      if(!page) page = 'index';
      var version = '2019.1';
      var docs_versions = [{version: '2019.3',version_string: '2019.3'},{version: '2019.2',version_string: '2019.2'},{version: '2019.1',version_string: '2019.1'},{version: '2018.4',version_string: '2018.4'},{version: '2018.3',version_string: '2018.3'},{version: '2018.2',version_string: '2018.2'},{version: '2018.1',version_string: '2018.1'},{version: '2017.4',version_string: '2017.4'},{version: '2017.3',version_string: '2017.3'},{version: '2017.2',version_string: '2017.2'},{version: '2017.1',version_string: '2017.1'},{version: '5.6',version_string: '560'},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css" /><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css" /><link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css" /></head><body><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="header-wrapper"><div id="header" class="header"><div class="content"><div class="spacer"><div class="menu"><div id="nav-open" for="nav-input"><span></span></div><div class="logo"><a href="https://docs.unity3d.com"></a></div><div class="search-form"><form action="30_search.html" method="get" class="apisearch"><input type="text" name="q" placeholder="Search scripting..." autosave="Unity Reference" results="5" class="sbox field" id="q"></input><input type="submit" class="submit"></input></form></div><ul class="menu-items"><li class="menu-item"><a href="../Manual/index.html" class="">Manual</a></li><li class="menu-item"><a href="../ScriptReference/index.html" class="selected">Scripting API</a></li></ul></div></div><div class="more"><div class="filler"></div><ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul></div></div></div><div class="toolbar"><div class="content"><div class="version-switcher"><div class="current toggle" data-target=".version-list"><div class="version-number"><div class="d-inline-block">
          Version:
          <b>2019.1</b></div><div class="d-inline-block arrow"></div></div></div><div class="version-list" style="display:none;"><ul><li><a class="docs_version_url_2019.3" href="/zh_CN/2019.3/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">2019.3</a></li><li><a class="docs_version_url_2019.2" href="/zh_CN/2019.2/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">2019.2</a></li><li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">2019.1</a></li><li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">2018.4</a></li><li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">2018.3</a></li><li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">2018.2</a></li><li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">2018.1</a></li><li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">2017.4</a></li><li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">2017.3</a></li><li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">2017.2</a></li><li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">2017.1</a></li><li><a class="docs_version_url_560" href="/zh_CN/560/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">5.6</a></li></ul></div></div><ul class="nav-menu-items"><li class="menu-item"><a href="../Manual/index.html" class="">Manual</a></li><li class="menu-item"><a href="../ScriptReference/index.html" class="selected">Scripting API</a></li></ul><div class="lang-switcher"><div class="current toggle" data-target=".lang-list"><div class="lbl">Language:
        <span class="b">中文</span></div><div class="arrow"></div></div><div class="lang-list" style="display:none;"><ul><li><a data-lang="en" href="/2019.1/Documentation/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">English</a></li><li><a data-lang="ja" href="/ja/2019.1/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">日本語</a></li><li><a data-lang="es" href="/es/2019.1/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">Español</a></li><li><a data-lang="kr" href="/kr/2019.1/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">한국어</a></li></ul></div></div></div></div></div><div id="master-wrapper" class="master-wrapper clear"><div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc"><h2>Scripting API</h2><div class="version-switcher"><div class="current toggle" data-target=".version-list"><div class="version-number"><div class="d-inline-block">
          Version:
          <b>2019.1</b></div><div class="d-inline-block arrow"></div></div></div><div class="version-list" style="display:none;"><ul><li><a class="docs_version_url_2019.3" href="/zh_CN/2019.3/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">2019.3</a></li><li><a class="docs_version_url_2019.2" href="/zh_CN/2019.2/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">2019.2</a></li><li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">2019.1</a></li><li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">2018.4</a></li><li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">2018.3</a></li><li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">2018.2</a></li><li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">2018.1</a></li><li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">2017.4</a></li><li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">2017.3</a></li><li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">2017.2</a></li><li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">2017.1</a></li><li><a class="docs_version_url_560" href="/zh_CN/560/ScriptReference/AssetPostprocessor-OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[]).html">5.6</a></li></ul></div></div><div class="clear"></div></div></div></div></div></div><div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content"><div class="section"><div class="mb20 clear" id=""><h1 class="heading inherit"><a href="AssetPostprocessor.html">AssetPostprocessor</a>.OnPostprocessGameObjectWithUserProperties(GameObject,string[],object[])</h1><div class="clear"></div><div class="clear"></div><a href="" class="switch-link gray-btn sbtn left hide">Switch to Manual</a><div class="clear"></div></div><div class="subsection"><div class="signature"><div class="signature-CS sig-block"><span style="color:red;"></span></div></div></div><div class="subsection"><h2>Description</h2><p>为每个在导入文件中至少附加了一个用户属性的游戏对象调用此函数。</p></div><div class="subsection"><p>第二个参数字符串数组 (propNames) 包含找到的所有属性的名称。
System.Object 数组 (values) 包含所有实际值。参数类型可以是 string、Vector4、bool、Color、float、int。<br /><br />此功能的典型用例是读取存储在 3dmax/maya 中的对象上的“userdata”。根据在对象的文本 userdata 中写入的内容，您可以决定以不同的方式对游戏对象进行后处理。<br /><br />有关调用此函数时所在阶段的详细描述，请参阅 <a href="AssetPostprocessor.html">AssetPostprocessor</a>。<br /><br />Please note that the GameObjects and Meshes only exist during the import and will be destroyed immediately afterwards.
This function is called before the final Prefab is created and before it is written to disk, thus you have full control over the generated game objects and components.
Any references to game objects or meshes will become invalid after the import has been completed. Thus it is not possible to create a new Prefab in a different file from OnPostprocessGameObjectWithUserProperties that references meshes in the imported fbx file.
The sample JS example below adds a simple BoxCollider component if the userdata string contains "addboxcollider".  The c# version is similar.</p></div><div class="subsection">
        
        <pre class="codeExampleCS">
using UnityEngine;
using <a href="UnityEditor.html">UnityEditor</a>;
using System;
using System.Collections;<br /><br />public class ExampleClass : <a href="AssetPostprocessor.html">AssetPostprocessor</a>
{
    void OnPostprocessGameObjectWithUserProperties(
        <a href="GameObject.html">GameObject</a> go,
        string[] propNames,
        System.Object[] values)
    {
        for (int i = 0; i &lt; propNames.Length; i++)
        {
            string propName = propNames[i];
            System.Object value = (System.Object)values[i];<br /><br />            <a href="Debug.Log.html">Debug.Log</a>("Propname: " + propName + " value: " + values[i]);<br /><br />            if (value.GetType().ToString() == "System.Int32")
            {
                int myInt = (int)value;
                // do something useful
            }<br /><br />            // etc...
        }
    }
}
</pre>
      </div></div><div class="footer-wrapper"><div class="footer clear"><div class="copy">Copyright © 2019 Unity Technologies. Publication 2019.1</div><div class="menu"><a href="https://unity3d.com/learn">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a></div></div><div></div></div></div></div></div></div></body></html>