<!DOCTYPE html><html class="no-js">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta name="robots" content="noindex">
<meta property="og:title" content="幕后工作 - Unity Manual">
<title>幕后工作 - Unity Manual</title>
<meta property="og:image" content="https://docs.unity3d.com/zh_CN/2019.1/uploads/Main/AssetWorkflowFolderAndProjectWindow.png">
<meta name="description" content="Unity 会自动导入资源并管理有关它们的各种附加数据，例如应使用哪些导入设置来导入资源，以及整个项目中资源的使用位置。下面介绍了此过程。">
<meta property="og:description" content="Unity 会自动导入资源并管理有关它们的各种附加数据，例如应使用哪些导入设置来导入资源，以及整个项目中资源的使用位置。下面介绍了此过程。">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="../StaticFiles/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script>
      var docs_type = 'Manual';
      var lang = 'zh_CN';
      var page = 'BehindtheScenes';
      if(!page) page = 'index';
      var version = '2019.1';
      var docs_versions = [{version: '2019.3',version_string: '2019.3'},{version: '2019.2',version_string: '2019.2'},{version: '2019.1',version_string: '2019.1'},{version: '2018.4',version_string: '2018.4'},{version: '2018.3',version_string: '2018.3'},{version: '2018.2',version_string: '2018.2'},{version: '2018.1',version_string: '2018.1'},{version: '2017.4',version_string: '2017.4'},{version: '2017.3',version_string: '2017.3'},{version: '2017.2',version_string: '2017.2'},{version: '2017.1',version_string: '2017.1'},{version: '5.6',version_string: '560'},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
</head>
<body>
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">Manual</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2019.1</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;"><ul>
<li><a class="docs_version_url_2019.3" href="/zh_CN/2019.3/Manual/BehindtheScenes.html">2019.3</a></li>
<li><a class="docs_version_url_2019.2" href="/zh_CN/2019.2/Manual/BehindtheScenes.html">2019.2</a></li>
<li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/Manual/BehindtheScenes.html">2019.1</a></li>
<li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/Manual/BehindtheScenes.html">2018.4</a></li>
<li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/Manual/BehindtheScenes.html">2018.3</a></li>
<li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/Manual/BehindtheScenes.html">2018.2</a></li>
<li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/Manual/BehindtheScenes.html">2018.1</a></li>
<li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/Manual/BehindtheScenes.html">2017.4</a></li>
<li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/Manual/BehindtheScenes.html">2017.3</a></li>
<li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/Manual/BehindtheScenes.html">2017.2</a></li>
<li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/Manual/BehindtheScenes.html">2017.1</a></li>
<li><a class="docs_version_url_560" href="/zh_CN/560/Manual/BehindtheScenes.html">5.6</a></li>
</ul></div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">Manual</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">Scripting API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">Language:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2019.1/Documentation/Manual/BehindtheScenes.html">English</a></li>
<li><a data-lang="ja" href="/ja/2019.1/Manual/BehindtheScenes.html">日本語</a></li>
<li><a data-lang="es" href="/es/2019.1/Manual/BehindtheScenes.html">Español</a></li>
<li><a data-lang="kr" href="/kr/2019.1/Manual/BehindtheScenes.html">한국어</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>Manual</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2019.1</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;"><ul>
<li><a class="docs_version_url_2019.3" href="/zh_CN/2019.3/Manual/BehindtheScenes.html">2019.3</a></li>
<li><a class="docs_version_url_2019.2" href="/zh_CN/2019.2/Manual/BehindtheScenes.html">2019.2</a></li>
<li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/Manual/BehindtheScenes.html">2019.1</a></li>
<li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/Manual/BehindtheScenes.html">2018.4</a></li>
<li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/Manual/BehindtheScenes.html">2018.3</a></li>
<li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/Manual/BehindtheScenes.html">2018.2</a></li>
<li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/Manual/BehindtheScenes.html">2018.1</a></li>
<li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/Manual/BehindtheScenes.html">2017.4</a></li>
<li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/Manual/BehindtheScenes.html">2017.3</a></li>
<li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/Manual/BehindtheScenes.html">2017.2</a></li>
<li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/Manual/BehindtheScenes.html">2017.1</a></li>
<li><a class="docs_version_url_560" href="/zh_CN/560/Manual/BehindtheScenes.html">5.6</a></li>
</ul></div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual (2019.1)</a></li>
<li><a href="UnityOverview.html">在 Unity 中操作</a></li>
<li><a href="AdvancedEditor.html">Editor 高级主题</a></li>
<li>幕后工作</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="AsynchronousShaderCompilation.html"></a></span><div class="tip">Asynchronous Shader compilation</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="AssetDatabase.html"></a></span><div class="tip">AssetDatabase</div>
</div>
</div></div>
<h1>幕后工作</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>Unity 会自动导入资源并管理有关它们的各种附加数据，例如应使用哪些导入设置来导入资源，以及整个项目中资源的使用位置。下面介绍了此过程。</p>

<h2>Unity 导入资源时会发生什么？</h2>

<h3>1.分配唯一 ID</h3>

<p>在 Assets 文件夹中放置诸如纹理之类的资源时，Unity 将首先检测到已添加新文件（Editor 经常根据已知的资源列表来检查 Assets 文件夹的内容）。</p>

<p>Unity 采取的第一步是为资源分配唯一 ID。Unity 在内部使用此 ID 来引用资源，因此可以移动或重命名资源，而不会破坏对资源的引用。</p>

<h3>2.创建 .meta 文件</h3>

<figure>
<img src="../uploads/Main/AssetWorkflowFolderAndProjectWindow.png" alt="计算机上 Unity 项目中的 Assets 文件夹与 Unity 中的 Project 窗口之间的关系">
<figcaption>计算机上 Unity 项目中的 Assets 文件夹与 Unity 中的 Project 窗口之间的关系</figcaption>
</figure>

<p>You’ll notice in the image above that there are <strong>.meta</strong> files listed in the file system for each asset and folder created within the Assets folder. These are not visible in Unity’s Project Window. Unity creates these files for each Asset, but they are <a href="https://en.wikipedia.org/wiki/Hidden_file_and_hidden_directory">hidden</a> by default, so you may not see them in your Explorer/Finder either. You can make them visible by selecting the <strong>Mode</strong> setting to <strong>Visible Meta Files</strong> on the <a href="class-EditorManager.html">Editor</a> window (main menu: <strong>Edit</strong> &gt; <strong>Project Settings</strong>, then select the <strong>Editor</strong> category, and navigate to the <strong>Version Control</strong> section).</p>

<p>The ID that Unity assigns to each Asset is stored inside the .meta file which Unity creates alongside the asset file itself. This .meta file must stay with the asset file it relates to.</p>

<p><strong>Important:</strong> <em>.meta files must match and stay with their respective Asset files. If you move or rename an asset within Unity’s own Project window, Unity will also automatically move or rename the corresponding .meta file. If you move or rename an asset </em>outside* of Unity (i.e. in Windows Explorer, or Finder on the Mac), you <em>must</em> move or rename the .meta file to match.</p>

<p>如果资源丢失其元 (meta) 文件（例如，如果在 Unity 之外移动或重命名资源，而不移动/重命名相应的 .meta 文件），则将破坏对该资源的所有引用。Unity 将为移动/重命名的资源生成一个新的 .meta 文件，就像它是一个全新的资源一样，并删除旧的“孤立”.meta 文件。</p>

<p>例如，在纹理资源丢失其 .meta 文件的情况下，使用该纹理的任何材质现在都无法引用该纹理。要修复此问题，必须手动将该纹理重新分配给任何需要该纹理的材质。</p>

<p>在脚本资源丢失其 .meta 文件的情况下，任何分配了该脚本的游戏对象或预制件最终都将出现“unassigned script”组件，并将失去其功能。必须手动将脚本重新分配给这些对象才能解决此问题。</p>

<h3>3.处理源资源</h3>

<p>Unity 读取并处理您添加到 Assets 文件夹的任何文件，将文件内容转换为可直接用于游戏的内部数据版本。实际资源文件保持不变，经过处理和转换的数据版本将存储在项目的 <strong>Library</strong> 文件夹中。</p>

<p>通过使用资源的内部格式，Unity 可以准备好可直接用于游戏的资源版本，以便在编辑器中在运行时使用，同时将未修改的源文件保留在 assets 文件夹中，以便可以快速编辑它们并让编辑器自动获取更改。例如，Photoshop 文件格式使用起来很方便，可以直接保存到 Assets 文件夹中，但移动设备和 PC 显卡等硬件不能直接接受将该格式渲染为纹理。资源在 Unity 内部表示形式的所有数据都存储在 <strong>Library</strong> 文件夹中，该文件夹可以被认为类似于缓存文件夹。作为用户，切勿手动更改 Library 文件夹，尝试这样做可能会影响 Unity Editor 中项目的功能。但是，删除 Library 文件夹（当项目未在 Unity 中打开时）始终是安全的，因为它的所有数据都是通过 Assets 和 ProjectSettings 文件夹中存储的内容生成的。这也意味着不应将 Library 文件夹纳入版本控制。</p>

<h3>有时会通过导入创建多个资源</h3>

<p>某些资源文件可能会导致创建多个资源。在以下情况下可能会发生这种情况：</p>

<ul>
<li><p><strong>3D 文件（例如 FBX）定义材质和/或包含嵌入的纹理。</strong><br>
在这种情况下，定义的材质和嵌入的纹理在 Unity 中被提取并表示为单独的资源。</p></li>
<li><p><strong>导入为多个精灵的图像文件。</strong><br>
通过使用 Unity 的精灵编辑器 (Sprite Editor)，可以从单个图形图像定义多个精灵。在这种情况下，编辑器中定义的每个精灵将在 Project 窗口中显示为单独的精灵资源。</p></li>
<li><p><strong>3D 文件包含多个动画时间轴，或者在其动画导入设置中定义了多个单独的剪辑。</strong><br>
在这种情况下，多个动画剪辑将在 Project 窗口中显示为单独的动画剪辑资源。</p></li>
</ul>

<h3>导入设置可能改变资源的处理方式</h3>

<p>除了分配给资源的唯一 ID 外，元文件还包含您在项目窗口中选择资源时在 Inspector 中看到的所有<a href="class-FBXImporter.html">导入设置</a>的值。对于纹理，这包括 Texture Type、Wrap Mode、Filter Mode 和 Aniso Level 等设置。</p>

<p>如果更改资源的导入设置，则这些更改的设置将存储在资源附带的 .meta 文件中。系统将根据新设置重新导入资源，并在项目的 Library 文件夹中更新相应导入的“游戏就绪”数据。</p>

<p>备份项目或将项目添加到版本控制库时，应包括 Unity 主项目文件夹，其中包含 <strong>Assets</strong> 和 <strong>ProjectSettings</strong> 文件夹。这些文件夹中的所有信息对于 Unity 的运行都至关重要。在备份时应忽略 <strong>Library</strong> 和 <strong>Temp</strong> 文件夹。</p>

<p><strong>注意</strong>：<em>如果未显式启用，在 Unity 4.2 及更早版本中创建的项目可能没有 .meta 文件。删除这些项目中的 Library 文件夹将导致数据丢失和永久性项目损坏，因为生成的资源内部格式<strong>以及</strong>元数据都存储在 Library 文件夹中。</em></p>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="AsynchronousShaderCompilation.html"></a></span><div class="tip">Asynchronous Shader compilation</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="AssetDatabase.html"></a></span><div class="tip">AssetDatabase</div>
</div>
</div>
</div>
<div class="footer-wrapper">
<div class="footer clear">
<div class="copy">Copyright © 2019 Unity Technologies. Publication 2019.1</div>
<div class="menu">
<a href="https://unity3d.com/learn">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div>
<div></div>
</div>
</div></div></div>
</div>
</body>
</html>
