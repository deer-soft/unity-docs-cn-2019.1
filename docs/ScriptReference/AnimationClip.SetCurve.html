<!DOCTYPE html><html class="no-js"><head><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="twitter:card" content="summary" /><meta name="robots" content="noindex" /><meta property="og:title" content="AnimationClip-SetCurve - Unity Scripting API" /><title>AnimationClip-SetCurve - Unity Scripting API</title><meta name="description" content="分配该曲线，以便为指定属性生成动画。" /><meta property="og:description" content="分配该曲线，以便为指定属性生成动画。" /><meta name="author" content="Unity Technologies" /><link rel="shortcut icon" href="../StaticFiles/images/favicons/favicon.ico" /><link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png" /><link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png" /><link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png" /><link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png" /><link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png" /><link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png" /><link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png" /><meta name="msapplication-TileColor" content="#222c37" /><meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png" /><script>
      var docs_type = 'ScriptReference';
      var lang = 'zh_CN';
      var page = 'AnimationClip-SetCurve';
      if(!page) page = 'index';
      var version = '2019.1';
      var docs_versions = [{version: '2019.3',version_string: '2019.3'},{version: '2019.2',version_string: '2019.2'},{version: '2019.1',version_string: '2019.1'},{version: '2018.4',version_string: '2018.4'},{version: '2018.3',version_string: '2018.3'},{version: '2018.2',version_string: '2018.2'},{version: '2018.1',version_string: '2018.1'},{version: '2017.4',version_string: '2017.4'},{version: '2017.3',version_string: '2017.3'},{version: '2017.2',version_string: '2017.2'},{version: '2017.1',version_string: '2017.1'},{version: '5.6',version_string: '560'},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css" /><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css" /><link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css" /></head><body><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="header-wrapper"><div id="header" class="header"><div class="content"><div class="spacer"><div class="menu"><div id="nav-open" for="nav-input"><span></span></div><div class="logo"><a href="https://docs.unity3d.com"></a></div><div class="search-form"><form action="30_search.html" method="get" class="apisearch"><input type="text" name="q" placeholder="Search scripting..." autosave="Unity Reference" results="5" class="sbox field" id="q"></input><input type="submit" class="submit"></input></form></div><ul class="menu-items"><li class="menu-item"><a href="../Manual/index.html" class="">Manual</a></li><li class="menu-item"><a href="../ScriptReference/index.html" class="selected">Scripting API</a></li></ul></div></div><div class="more"><div class="filler"></div><ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul></div></div></div><div class="toolbar"><div class="content"><div class="version-switcher"><div class="current toggle" data-target=".version-list"><div class="version-number"><div class="d-inline-block">
          Version:
          <b>2019.1</b></div><div class="d-inline-block arrow"></div></div></div><div class="version-list" style="display:none;"><ul><li><a class="docs_version_url_2019.3" href="/zh_CN/2019.3/ScriptReference/AnimationClip-SetCurve.html">2019.3</a></li><li><a class="docs_version_url_2019.2" href="/zh_CN/2019.2/ScriptReference/AnimationClip-SetCurve.html">2019.2</a></li><li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/ScriptReference/AnimationClip-SetCurve.html">2019.1</a></li><li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/ScriptReference/AnimationClip-SetCurve.html">2018.4</a></li><li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/ScriptReference/AnimationClip-SetCurve.html">2018.3</a></li><li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/ScriptReference/AnimationClip-SetCurve.html">2018.2</a></li><li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/ScriptReference/AnimationClip-SetCurve.html">2018.1</a></li><li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/ScriptReference/AnimationClip-SetCurve.html">2017.4</a></li><li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/ScriptReference/AnimationClip-SetCurve.html">2017.3</a></li><li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/ScriptReference/AnimationClip-SetCurve.html">2017.2</a></li><li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/ScriptReference/AnimationClip-SetCurve.html">2017.1</a></li><li><a class="docs_version_url_560" href="/zh_CN/560/ScriptReference/AnimationClip-SetCurve.html">5.6</a></li></ul></div></div><ul class="nav-menu-items"><li class="menu-item"><a href="../Manual/index.html" class="">Manual</a></li><li class="menu-item"><a href="../ScriptReference/index.html" class="selected">Scripting API</a></li></ul><div class="lang-switcher"><div class="current toggle" data-target=".lang-list"><div class="lbl">Language:
        <span class="b">中文</span></div><div class="arrow"></div></div><div class="lang-list" style="display:none;"><ul><li><a data-lang="en" href="/2019.1/Documentation/ScriptReference/AnimationClip-SetCurve.html">English</a></li><li><a data-lang="ja" href="/ja/2019.1/ScriptReference/AnimationClip-SetCurve.html">日本語</a></li><li><a data-lang="es" href="/es/2019.1/ScriptReference/AnimationClip-SetCurve.html">Español</a></li><li><a data-lang="kr" href="/kr/2019.1/ScriptReference/AnimationClip-SetCurve.html">한국어</a></li></ul></div></div></div></div></div><div id="master-wrapper" class="master-wrapper clear"><div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc"><h2>Scripting API</h2><div class="version-switcher"><div class="current toggle" data-target=".version-list"><div class="version-number"><div class="d-inline-block">
          Version:
          <b>2019.1</b></div><div class="d-inline-block arrow"></div></div></div><div class="version-list" style="display:none;"><ul><li><a class="docs_version_url_2019.3" href="/zh_CN/2019.3/ScriptReference/AnimationClip-SetCurve.html">2019.3</a></li><li><a class="docs_version_url_2019.2" href="/zh_CN/2019.2/ScriptReference/AnimationClip-SetCurve.html">2019.2</a></li><li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/ScriptReference/AnimationClip-SetCurve.html">2019.1</a></li><li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/ScriptReference/AnimationClip-SetCurve.html">2018.4</a></li><li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/ScriptReference/AnimationClip-SetCurve.html">2018.3</a></li><li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/ScriptReference/AnimationClip-SetCurve.html">2018.2</a></li><li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/ScriptReference/AnimationClip-SetCurve.html">2018.1</a></li><li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/ScriptReference/AnimationClip-SetCurve.html">2017.4</a></li><li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/ScriptReference/AnimationClip-SetCurve.html">2017.3</a></li><li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/ScriptReference/AnimationClip-SetCurve.html">2017.2</a></li><li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/ScriptReference/AnimationClip-SetCurve.html">2017.1</a></li><li><a class="docs_version_url_560" href="/zh_CN/560/ScriptReference/AnimationClip-SetCurve.html">5.6</a></li></ul></div></div><div class="clear"></div></div></div></div></div></div><div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content"><div class="section"><div class="mb20 clear" id=""><h1 class="heading inherit"><a href="AnimationClip.html">AnimationClip</a>.SetCurve</h1><div class="clear"></div><div class="clear"></div><a href="" class="switch-link gray-btn sbtn left hide">Switch to Manual</a><div class="clear"></div></div><div class="subsection"><div class="signature"><div class="signature-CS sig-block"><span style="color:red;"></span>public void <span class="sig-kw">SetCurve</span>
        (string <span class="sig-kw">relativePath</span>,
    Type <span class="sig-kw">type</span>,
    string <span class="sig-kw">propertyName</span>,
    <a href="AnimationCurve.html">AnimationCurve</a> <span class="sig-kw">curve</span>);
      </div></div></div><div class="subsection"><h2>Parameters</h2><table class="list"><tr><td class="name lbl">relativePath</td><td class="desc">通向该曲线应用于的游戏对象的路径。<code class="mono">relativePath</code>
 已进行了类似于路径名的格式调整，例如“root/spine/leftArm”。如果 <code class="mono">relativePath</code>
 为空，它指的是将该动画剪辑附加到的游戏对象。</td></tr><tr><td class="name lbl">type</td><td class="desc">该动画组件的类类型。</td></tr><tr><td class="name lbl">propertyName</td><td class="desc">正在生成动画的属性的名称或路径。</td></tr><tr><td class="name lbl">curve</td><td class="desc">动画曲线。</td></tr></table></div><div class="subsection"><h2>Description</h2><p>分配该曲线，以便为指定属性生成动画。</p></div><div class="subsection"><p>如果 <code class="mono">curve</code> 为 null，则该曲线将被移除。如果
对于该属性已经存在一条曲线，则其将被替换。<br /><br /><strong>注意：</strong> <code class="mono">SetCurve</code> 将仅在运行时为旧版动画剪辑工作。对于非旧版动画剪辑，
这是一个仅限编辑器的函数。<br /><br />        以下脚本示例显示了如何能够使用
        动画剪辑为 <code class="mono">GameObject</code> 位置生成动画。使用 <code class="mono">SetCurve()</code> 将一条动画曲线设置到了 <a href="AnimationClip.html">AnimationClip</a> 上。
        该示例将 x 偏移量从 1.0 向下移至 0.0。<br /><br />可使用 <a href="AnimationClip.SetCurve.html">SetCurve</a> API 为各种各样的
参数生成动画。<a href="Transform.html">Transform</a> 和 <a href="Material.html">Material</a> 等一些典型组件具有
易于访问的变量。例如，<a href="Transform.html">Transform</a> 具有
 <a href="Transform-localPosition.html">Transform.localPosition</a> 等变量。可使用 <a href="AnimationClip.html">AnimationClip</a> API 为 <code class="mono">localPosition</code> 的 x、y 和 z 值
生成动画。查看 <a href="Transform.html">Transform</a> 文档，以便
了解这些变量以及了解如何能够为它们生成动画。<br /><br />        The <a href="Material.html">Material</a> class also links
            to variables that can be animated.  These come from the shader that is used for
            rendering.  Using the "Edit Shader..." option from the material drop down shows
            all the parameters that can be animated.  The animatable parameters all start
            with underscore, so, for example color (<code class="mono">_Color</code>) and scale (<code class="mono">_BumpScale</code>)
            can be animated.<br /><br />            To index into multiple materials on the same renderer you can prefix the attribute
            like this:<br />
            <code class="mono">"[1]._MainTex.offset.y"</code>.<br /><br />            The example script below shows how a GameObject can be animated in two ways at the
            same time. In this example, the position of the GameObject is animated, and the
            Material color is also changed over time.</p></div><div class="subsection">
        
        <pre class="codeExampleCS">
// This script example shows how SetCurve() can be used
using UnityEngine;
using System.Collections;<br /><br />public class ExampleClass : <a href="MonoBehaviour.html">MonoBehaviour</a>
{
    // Animate the position and color of the <a href="GameObject.html">GameObject</a>
    public void Start()
    {
        <a href="Animation.html">Animation</a> anim = GetComponent&lt;<a href="Animation.html">Animation</a>&gt;();
        <a href="AnimationCurve.html">AnimationCurve</a> curve;<br /><br />        // create a new <a href="AnimationClip.html">AnimationClip</a>
        <a href="AnimationClip.html">AnimationClip</a> clip = new <a href="AnimationClip.html">AnimationClip</a>();
        clip.legacy = true;<br /><br />        // create a curve to move the <a href="GameObject.html">GameObject</a> and assign to the clip
        <a href="Keyframe.html">Keyframe</a>[] keys;
        keys = new <a href="Keyframe.html">Keyframe</a>[3];
        keys[0] = new <a href="Keyframe.html">Keyframe</a>(0.0f, 0.0f);
        keys[1] = new <a href="Keyframe.html">Keyframe</a>(1.0f, 1.5f);
        keys[2] = new <a href="Keyframe.html">Keyframe</a>(2.0f, 0.0f);
        curve = new <a href="AnimationCurve.html">AnimationCurve</a>(keys);
        clip.SetCurve("", typeof(<a href="Transform.html">Transform</a>), "localPosition.x", curve);<br /><br />        // update the clip to a change the red color
        curve = <a href="AnimationCurve.Linear.html">AnimationCurve.Linear</a>(0.0f, 1.0f, 2.0f, 0.0f);
        clip.SetCurve("", typeof(<a href="Material.html">Material</a>), "_Color.r", curve);<br /><br />        // now animate the <a href="GameObject.html">GameObject</a>
        anim.AddClip(clip, clip.name);
        anim.Play(clip.name);
    }
}
</pre>
      </div><div class="subsection"><p>可通过在 Editor 设置中将 Asset Serialization 设置为
 Force Text 模式来查找属性名称。使用 <code class="mono">Edit &gt; Project Settings &gt; Editor</code>
 来启用此模式。之后由编辑器编写的文本文件
将包含这些属性的名称。例如，为场景对象编写的 yaml
 文件将包含 Camera 设置。查看此
 yaml 文件将显示：<br /><br /><code class="mono">m_BackGroundColor: {r: .192156866, g: .301960796, b: .474509805, a: .0196078438}</code><br />
<code class="mono">m_NormalizedViewPortRect:</code><br />
<code class="mono">  serializedVersion: 2</code><br />
<code class="mono">  x: 0</code><br />
<code class="mono">  y: 0</code><br />
<code class="mono">  width: 1</code><br />
<code class="mono">  height: 1</code><br />
<code class="mono">near clip plane: .300000012</code><br />
<code class="mono">far clip plane: 1000</code><br />
<code class="mono">field of view: 60</code><br />
<code class="mono">orthographic: 0</code><br />
<code class="mono">orthographic size: 5</code><br />
<code class="mono">m_Depth: -1</code><br /><br />            This shows that the name for the FOV parameter is "field of view".  If you wanted to
                    create an animation clip to animate the camera field of view, you would pass "field of view"
                    as the propertyName.<br /><br />                    Another example is the access of <code class="mono">Light</code> settings. The <code class="mono">scene.unity</code> file
                    (assuming a Scene called <code class="mono">scene</code>) will have a string for the light color.
                    Script can access the light color by accessing <code class="mono">m_Color</code>.  The Scene will need
                    to have a light for this example to work.<br /><br />                    See Also: <a href="AnimationClip.ClearCurves.html">ClearCurves</a> function, and the <a href="AnimationCurve.html">AnimationCurve</a> class.</p></div></div><div class="footer-wrapper"><div class="footer clear"><div class="copy">Copyright © 2019 Unity Technologies. Publication 2019.1</div><div class="menu"><a href="https://unity3d.com/learn">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a></div></div><div></div></div></div></div></div></div></body></html>