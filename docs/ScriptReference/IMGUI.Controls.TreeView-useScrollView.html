<!DOCTYPE html><html class="no-js"><head><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="twitter:card" content="summary" /><meta name="robots" content="noindex" /><meta property="og:title" content="IMGUI.Controls.TreeView-useScrollView - Unity Scripting API" /><title>IMGUI.Controls.TreeView-useScrollView - Unity Scripting API</title><meta name="description" content="When drawing the TreeView contents, will it be enclosed within a ScrollView?" /><meta property="og:description" content="When drawing the TreeView contents, will it be enclosed within a ScrollView?" /><meta name="author" content="Unity Technologies" /><link rel="shortcut icon" href="../StaticFiles/images/favicons/favicon.ico" /><link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png" /><link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png" /><link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png" /><link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png" /><link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png" /><link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png" /><link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png" /><meta name="msapplication-TileColor" content="#222c37" /><meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png" /><script>
      var docs_type = 'ScriptReference';
      var lang = 'zh_CN';
      var page = 'IMGUI.Controls.TreeView-useScrollView';
      if(!page) page = 'index';
      var version = '2019.1';
      var docs_versions = [{version: '2019.3',version_string: '2019.3'},{version: '2019.2',version_string: '2019.2'},{version: '2019.1',version_string: '2019.1'},{version: '2018.4',version_string: '2018.4'},{version: '2018.3',version_string: '2018.3'},{version: '2018.2',version_string: '2018.2'},{version: '2018.1',version_string: '2018.1'},{version: '2017.4',version_string: '2017.4'},{version: '2017.3',version_string: '2017.3'},{version: '2017.2',version_string: '2017.2'},{version: '2017.1',version_string: '2017.1'},{version: '5.6',version_string: '560'},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css" /><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css" /><link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css" /></head><body><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="header-wrapper"><div id="header" class="header"><div class="content"><div class="spacer"><div class="menu"><div id="nav-open" for="nav-input"><span></span></div><div class="logo"><a href="https://docs.unity3d.com"></a></div><div class="search-form"><form action="30_search.html" method="get" class="apisearch"><input type="text" name="q" placeholder="Search scripting..." autosave="Unity Reference" results="5" class="sbox field" id="q"></input><input type="submit" class="submit"></input></form></div><ul class="menu-items"><li class="menu-item"><a href="../Manual/index.html" class="">Manual</a></li><li class="menu-item"><a href="../ScriptReference/index.html" class="selected">Scripting API</a></li></ul></div></div><div class="more"><div class="filler"></div><ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul></div></div></div><div class="toolbar"><div class="content"><div class="version-switcher"><div class="current toggle" data-target=".version-list"><div class="version-number"><div class="d-inline-block">
          Version:
          <b>2019.1</b></div><div class="d-inline-block arrow"></div></div></div><div class="version-list" style="display:none;"><ul><li><a class="docs_version_url_2019.3" href="/zh_CN/2019.3/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">2019.3</a></li><li><a class="docs_version_url_2019.2" href="/zh_CN/2019.2/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">2019.2</a></li><li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">2019.1</a></li><li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">2018.4</a></li><li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">2018.3</a></li><li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">2018.2</a></li><li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">2018.1</a></li><li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">2017.4</a></li><li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">2017.3</a></li><li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">2017.2</a></li><li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">2017.1</a></li><li><a class="docs_version_url_560" href="/zh_CN/560/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">5.6</a></li></ul></div></div><ul class="nav-menu-items"><li class="menu-item"><a href="../Manual/index.html" class="">Manual</a></li><li class="menu-item"><a href="../ScriptReference/index.html" class="selected">Scripting API</a></li></ul><div class="lang-switcher"><div class="current toggle" data-target=".lang-list"><div class="lbl">Language:
        <span class="b">中文</span></div><div class="arrow"></div></div><div class="lang-list" style="display:none;"><ul><li><a data-lang="en" href="/2019.1/Documentation/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">English</a></li><li><a data-lang="ja" href="/ja/2019.1/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">日本語</a></li><li><a data-lang="es" href="/es/2019.1/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">Español</a></li><li><a data-lang="kr" href="/kr/2019.1/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">한국어</a></li></ul></div></div></div></div></div><div id="master-wrapper" class="master-wrapper clear"><div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc"><h2>Scripting API</h2><div class="version-switcher"><div class="current toggle" data-target=".version-list"><div class="version-number"><div class="d-inline-block">
          Version:
          <b>2019.1</b></div><div class="d-inline-block arrow"></div></div></div><div class="version-list" style="display:none;"><ul><li><a class="docs_version_url_2019.3" href="/zh_CN/2019.3/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">2019.3</a></li><li><a class="docs_version_url_2019.2" href="/zh_CN/2019.2/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">2019.2</a></li><li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">2019.1</a></li><li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">2018.4</a></li><li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">2018.3</a></li><li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">2018.2</a></li><li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">2018.1</a></li><li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">2017.4</a></li><li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">2017.3</a></li><li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">2017.2</a></li><li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">2017.1</a></li><li><a class="docs_version_url_560" href="/zh_CN/560/ScriptReference/IMGUI.Controls.TreeView-useScrollView.html">5.6</a></li></ul></div></div><div class="clear"></div></div></div></div></div></div><div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content"><div class="section"><div class="mb20 clear" id=""><h1 class="heading inherit"><a href="IMGUI.Controls.TreeView.html">TreeView</a>.useScrollView</h1><div class="clear"></div><div class="clear"></div><a href="" class="switch-link gray-btn sbtn left hide">Switch to Manual</a><div class="clear"></div></div><div class="subsection"><div class="signature"><div class="signature-CS sig-block"><span style="color:red;"></span>protected bool <span class="sig-kw">useScrollView</span>
        ;
      </div></div></div><div class="subsection"><h2>Description</h2><p>When drawing the TreeView contents, will it be enclosed within a ScrollView?</p></div><div class="subsection"><p>When enabled, the contents of the TreeView is culled so that anything outside of the ScrollView is not drawn. If the TreeView is contained within an external ScrollView, such as the Inspector window, then disabling this allows the TreeView to use the external ScrollView to perform its culling.</p></div><div class="subsection">
        
        <pre class="codeExampleCS">
using UnityEngine;<br /><br />public class ExampleBehaviourScript : <a href="MonoBehaviour.html">MonoBehaviour</a>
{
    // This is our example list.
    public string[] exampleList;
}
</pre>
      </div><div class="subsection"><p>To use the following script, add it to the Editor directory.</p></div><div class="subsection">
        
        <pre class="codeExampleCS">
using System.Collections.Generic;
using <a href="UnityEditor.html">UnityEditor</a>;
using UnityEditor.IMGUI.Controls;
using UnityEngine;<br /><br />// Simple <a href="IMGUI.Controls.TreeView.html">TreeView</a> that draws a single list property.
class NewBehaviourScriptEditorTreeView : <a href="IMGUI.Controls.TreeView.html">TreeView</a>
{
    <a href="SerializedProperty.html">SerializedProperty</a> m_Property;<br /><br />    public NewBehaviourScriptEditorTreeView(<a href="SerializedProperty.html">SerializedProperty</a> property) :
        base(new <a href="IMGUI.Controls.TreeViewState.html">TreeViewState</a>())
    {
        m_Property = property;
        showBorder = true;
        showAlternatingRowBackgrounds = true;
        useScrollView = false; // We are using the Inspector ScrollView<br /><br />        MultiColumnHeaderState.Column[] columns = new MultiColumnHeaderState.Column[2];
        for (int i = 0; i &lt; columns.Length; ++i)
        {
            columns[i] = new MultiColumnHeaderState.Column();
            columns[i].minWidth = 50;
            columns[i].width = 100;
            columns[i].headerTextAlignment = <a href="TextAlignment.Center.html">TextAlignment.Center</a>;
            columns[i].canSort = false;
        }
        columns[0].headerContent = new <a href="GUIContent.html">GUIContent</a>("Index");
        columns[1].headerContent = new <a href="GUIContent.html">GUIContent</a>("Value");
        var multiColState = new <a href="IMGUI.Controls.MultiColumnHeaderState.html">MultiColumnHeaderState</a>(columns);
        multiColumnHeader = new <a href="IMGUI.Controls.MultiColumnHeader.html">MultiColumnHeader</a>(multiColState);
        multiColumnHeader.ResizeToFit();
        Reload();
    }<br /><br />    protected override <a href="IMGUI.Controls.TreeViewItem.html">TreeViewItem</a> BuildRoot()
    {
        int arraySize = m_Property.arraySize;<br /><br />        var root = new <a href="IMGUI.Controls.TreeViewItem.html">TreeViewItem</a> { id = -1, depth = -1, displayName = "Root" };
        var allItems = new List&lt;<a href="IMGUI.Controls.TreeViewItem.html">TreeViewItem</a>&gt;(arraySize);
        for (int i = 0; i &lt; arraySize; ++i)
        {
            var item = new <a href="IMGUI.Controls.TreeViewItem.html">TreeViewItem</a>(i, 0, i.ToString());
            allItems.Add(item);
        }<br /><br />        SetupParentsAndChildrenFromDepths(root, allItems);
        return root;
    }<br /><br />    protected override void RowGUI(<a href="IMGUI.Controls.TreeView.RowGUIArgs.html">RowGUIArgs</a> args)
    {
        var prop = m_Property.GetArrayElementAtIndex(args.item.id);
        for (int i = 0; i &lt; args.GetNumVisibleColumns(); ++i)
        {
            int col = args.GetColumn(i);
            var rect = args.GetCellRect(i);<br /><br />            if (col == 0)
            {
                <a href="GUI.Label.html">GUI.Label</a>(rect, args.row.ToString());
            }
            else
            {
                <a href="EditorGUI.PropertyField.html">EditorGUI.PropertyField</a>(rect, prop, <a href="GUIContent-none.html">GUIContent.none</a>);
            }
        }
    }
}<br /><br />// Shows how we can use a <a href="IMGUI.Controls.TreeView.html">TreeView</a> to draw a large list of items.
[<a href="CustomEditor.html">CustomEditor</a>(typeof(ExampleBehaviourScript))]
[<a href="CanEditMultipleObjects.html">CanEditMultipleObjects</a>]
public class NewBehaviourScriptEditor : <a href="Editor.html">Editor</a>
{
    NewBehaviourScriptEditorTreeView m_TreeView;
    <a href="SerializedProperty.html">SerializedProperty</a> m_Size;<br /><br />    void OnEnable()
    {
        var listProperty = serializedObject.FindProperty("exampleList");
        m_Size = serializedObject.FindProperty("exampleList.Array.size");
        m_TreeView = new NewBehaviourScriptEditorTreeView(listProperty);
        <a href="Undo-undoRedoPerformed.html">Undo.undoRedoPerformed</a> += m_TreeView.Reload;
    }<br /><br />    void OnDisable()
    {
        if (m_TreeView != null)
            <a href="Undo-undoRedoPerformed.html">Undo.undoRedoPerformed</a> -= m_TreeView.Reload;
    }<br /><br />    public override void OnInspectorGUI()
    {
        serializedObject.Update();
        <a href="EditorGUI.BeginChangeCheck.html">EditorGUI.BeginChangeCheck</a>();
        int newSize = <a href="EditorGUILayout.IntField.html">EditorGUILayout.IntField</a>("Size", m_Size.intValue);
        if (<a href="EditorGUI.EndChangeCheck.html">EditorGUI.EndChangeCheck</a>())
        {
            m_Size.intValue = newSize;
            m_TreeView.Reload();
        }<br /><br />        var rect = <a href="EditorGUILayout.GetControlRect.html">EditorGUILayout.GetControlRect</a>(false, m_TreeView.totalHeight);
        m_TreeView.OnGUI(rect);
        serializedObject.ApplyModifiedProperties();
    }
}
</pre>
      </div></div><div class="footer-wrapper"><div class="footer clear"><div class="copy">Copyright © 2019 Unity Technologies. Publication 2019.1</div><div class="menu"><a href="https://unity3d.com/learn">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a></div></div><div></div></div></div></div></div></div></body></html>