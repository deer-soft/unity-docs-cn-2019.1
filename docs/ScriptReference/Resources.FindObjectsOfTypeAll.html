<!DOCTYPE html><html class="no-js"><head><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="twitter:card" content="summary" /><meta name="robots" content="noindex" /><meta property="og:title" content="Resources-FindObjectsOfTypeAll - Unity Scripting API" /><title>Resources-FindObjectsOfTypeAll - Unity Scripting API</title><meta name="description" content="返回所有类型为 type 的对象的列表。" /><meta property="og:description" content="返回所有类型为 type 的对象的列表。" /><meta name="author" content="Unity Technologies" /><link rel="shortcut icon" href="../StaticFiles/images/favicons/favicon.ico" /><link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png" /><link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png" /><link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png" /><link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png" /><link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png" /><link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png" /><link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png" /><meta name="msapplication-TileColor" content="#222c37" /><meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png" /><script>
      var docs_type = 'ScriptReference';
      var lang = 'zh_CN';
      var page = 'Resources-FindObjectsOfTypeAll';
      if(!page) page = 'index';
      var version = '2019.1';
      var docs_versions = [{version: '2019.3',version_string: '2019.3'},{version: '2019.2',version_string: '2019.2'},{version: '2019.1',version_string: '2019.1'},{version: '2018.4',version_string: '2018.4'},{version: '2018.3',version_string: '2018.3'},{version: '2018.2',version_string: '2018.2'},{version: '2018.1',version_string: '2018.1'},{version: '2017.4',version_string: '2017.4'},{version: '2017.3',version_string: '2017.3'},{version: '2017.2',version_string: '2017.2'},{version: '2017.1',version_string: '2017.1'},{version: '5.6',version_string: '560'},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css" /><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css" /><link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css" /></head><body><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="header-wrapper"><div id="header" class="header"><div class="content"><div class="spacer"><div class="menu"><div id="nav-open" for="nav-input"><span></span></div><div class="logo"><a href="https://docs.unity3d.com"></a></div><div class="search-form"><form action="30_search.html" method="get" class="apisearch"><input type="text" name="q" placeholder="Search scripting..." autosave="Unity Reference" results="5" class="sbox field" id="q"></input><input type="submit" class="submit"></input></form></div><ul class="menu-items"><li class="menu-item"><a href="../Manual/index.html" class="">Manual</a></li><li class="menu-item"><a href="../ScriptReference/index.html" class="selected">Scripting API</a></li></ul></div></div><div class="more"><div class="filler"></div><ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul></div></div></div><div class="toolbar"><div class="content"><div class="version-switcher"><div class="current toggle" data-target=".version-list"><div class="version-number"><div class="d-inline-block">
          Version:
          <b>2019.1</b></div><div class="d-inline-block arrow"></div></div></div><div class="version-list" style="display:none;"><ul><li><a class="docs_version_url_2019.3" href="/zh_CN/2019.3/ScriptReference/Resources-FindObjectsOfTypeAll.html">2019.3</a></li><li><a class="docs_version_url_2019.2" href="/zh_CN/2019.2/ScriptReference/Resources-FindObjectsOfTypeAll.html">2019.2</a></li><li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/ScriptReference/Resources-FindObjectsOfTypeAll.html">2019.1</a></li><li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/ScriptReference/Resources-FindObjectsOfTypeAll.html">2018.4</a></li><li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/ScriptReference/Resources-FindObjectsOfTypeAll.html">2018.3</a></li><li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/ScriptReference/Resources-FindObjectsOfTypeAll.html">2018.2</a></li><li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/ScriptReference/Resources-FindObjectsOfTypeAll.html">2018.1</a></li><li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/ScriptReference/Resources-FindObjectsOfTypeAll.html">2017.4</a></li><li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/ScriptReference/Resources-FindObjectsOfTypeAll.html">2017.3</a></li><li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/ScriptReference/Resources-FindObjectsOfTypeAll.html">2017.2</a></li><li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/ScriptReference/Resources-FindObjectsOfTypeAll.html">2017.1</a></li><li><a class="docs_version_url_560" href="/zh_CN/560/ScriptReference/Resources-FindObjectsOfTypeAll.html">5.6</a></li></ul></div></div><ul class="nav-menu-items"><li class="menu-item"><a href="../Manual/index.html" class="">Manual</a></li><li class="menu-item"><a href="../ScriptReference/index.html" class="selected">Scripting API</a></li></ul><div class="lang-switcher"><div class="current toggle" data-target=".lang-list"><div class="lbl">Language:
        <span class="b">中文</span></div><div class="arrow"></div></div><div class="lang-list" style="display:none;"><ul><li><a data-lang="en" href="/2019.1/Documentation/ScriptReference/Resources-FindObjectsOfTypeAll.html">English</a></li><li><a data-lang="ja" href="/ja/2019.1/ScriptReference/Resources-FindObjectsOfTypeAll.html">日本語</a></li><li><a data-lang="es" href="/es/2019.1/ScriptReference/Resources-FindObjectsOfTypeAll.html">Español</a></li><li><a data-lang="kr" href="/kr/2019.1/ScriptReference/Resources-FindObjectsOfTypeAll.html">한국어</a></li></ul></div></div></div></div></div><div id="master-wrapper" class="master-wrapper clear"><div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc"><h2>Scripting API</h2><div class="version-switcher"><div class="current toggle" data-target=".version-list"><div class="version-number"><div class="d-inline-block">
          Version:
          <b>2019.1</b></div><div class="d-inline-block arrow"></div></div></div><div class="version-list" style="display:none;"><ul><li><a class="docs_version_url_2019.3" href="/zh_CN/2019.3/ScriptReference/Resources-FindObjectsOfTypeAll.html">2019.3</a></li><li><a class="docs_version_url_2019.2" href="/zh_CN/2019.2/ScriptReference/Resources-FindObjectsOfTypeAll.html">2019.2</a></li><li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/ScriptReference/Resources-FindObjectsOfTypeAll.html">2019.1</a></li><li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/ScriptReference/Resources-FindObjectsOfTypeAll.html">2018.4</a></li><li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/ScriptReference/Resources-FindObjectsOfTypeAll.html">2018.3</a></li><li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/ScriptReference/Resources-FindObjectsOfTypeAll.html">2018.2</a></li><li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/ScriptReference/Resources-FindObjectsOfTypeAll.html">2018.1</a></li><li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/ScriptReference/Resources-FindObjectsOfTypeAll.html">2017.4</a></li><li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/ScriptReference/Resources-FindObjectsOfTypeAll.html">2017.3</a></li><li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/ScriptReference/Resources-FindObjectsOfTypeAll.html">2017.2</a></li><li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/ScriptReference/Resources-FindObjectsOfTypeAll.html">2017.1</a></li><li><a class="docs_version_url_560" href="/zh_CN/560/ScriptReference/Resources-FindObjectsOfTypeAll.html">5.6</a></li></ul></div></div><div class="clear"></div></div></div></div></div></div><div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content"><div class="section"><div class="mb20 clear" id=""><h1 class="heading inherit"><a href="Resources.html">Resources</a>.FindObjectsOfTypeAll</h1><div class="clear"></div><div class="clear"></div><a href="" class="switch-link gray-btn sbtn left hide">Switch to Manual</a><div class="clear"></div></div><div class="subsection"><div class="signature"><div class="signature-CS sig-block"><span style="color:red;"></span>public static Object[] <span class="sig-kw">FindObjectsOfTypeAll</span>
        (Type <span class="sig-kw">type</span>);
      </div></div></div><div class="subsection"><h2>Parameters</h2><table class="list"><tr><td class="name lbl">type</td><td class="desc">搜索时要匹配的类的类型。</td></tr></table></div><div class="subsection"><h2>Returns</h2><p><strong>Object[]</strong>
        对象数组，其类为 <em>type</em> 或派生自 <em>type</em>。
      </p></div><div class="subsection"><h2>Description</h2><p>返回所有类型为 <code class="varname">type</code> 的对象的列表。</p></div><div class="subsection"><p>This function can return any type of Unity object that is loaded, including game objects, prefabs, materials, meshes, textures, etc. It will also list internal objects. Therefore be careful with the way you handle the returned objects.
Contrary to <a href="Object.FindObjectsOfType.html">Object.FindObjectsOfType</a> this function will also list disabled objects.<br /><br /><strong>Note:</strong> This function is very slow and is not recommended to be used every frame.</p></div><div class="subsection">
        
        <pre class="codeExampleCS">
using UnityEngine;
using System.Collections;<br /><br />public class ExampleScript : <a href="MonoBehaviour.html">MonoBehaviour</a>
{
    // This script displays the number of allocated Unity objects by type.
    // This is useful for finding leaks. Knowing the type of object
    // (mesh, texture, sound clip, game object) that is getting leaked is
    // the first step. You could then print the names of all leaked assets of that type.<br /><br />    void Start()
    {
        print("All " + <a href="Resources.FindObjectsOfTypeAll.html">Resources.FindObjectsOfTypeAll</a>(typeof(UnityEngine.Object)).Length);
        print("Textures " + <a href="Resources.FindObjectsOfTypeAll.html">Resources.FindObjectsOfTypeAll</a>(typeof(<a href="Texture.html">Texture</a>)).Length);
        print("AudioClips " + <a href="Resources.FindObjectsOfTypeAll.html">Resources.FindObjectsOfTypeAll</a>(typeof(<a href="AudioClip.html">AudioClip</a>)).Length);
        print("Meshes " + <a href="Resources.FindObjectsOfTypeAll.html">Resources.FindObjectsOfTypeAll</a>(typeof(<a href="Mesh.html">Mesh</a>)).Length);
        print("Materials " + <a href="Resources.FindObjectsOfTypeAll.html">Resources.FindObjectsOfTypeAll</a>(typeof(<a href="Material.html">Material</a>)).Length);
        print("GameObjects " + <a href="Resources.FindObjectsOfTypeAll.html">Resources.FindObjectsOfTypeAll</a>(typeof(<a href="GameObject.html">GameObject</a>)).Length);
        print("Components " + <a href="Resources.FindObjectsOfTypeAll.html">Resources.FindObjectsOfTypeAll</a>(typeof(<a href="Component.html">Component</a>)).Length);
    }
}
</pre>
      </div><div class="subsection">
        
        <pre class="codeExampleCS">
using UnityEngine;
using <a href="UnityEditor.html">UnityEditor</a>;
using System.Collections.Generic;<br /><br />public class ExampleScript : <a href="MonoBehaviour.html">MonoBehaviour</a>
{
    // This script finds all the objects in <a href="SceneManagement.Scene.html">Scene</a>, excluding Prefabs:<br /><br />    List&lt;<a href="GameObject.html">GameObject</a>&gt; GetAllObjectsInScene()
    {
        List&lt;<a href="GameObject.html">GameObject</a>&gt; objectsInScene = new List&lt;<a href="GameObject.html">GameObject</a>&gt;();<br /><br />        foreach (<a href="GameObject.html">GameObject</a> go in <a href="Resources.FindObjectsOfTypeAll.html">Resources.FindObjectsOfTypeAll</a>(typeof(<a href="GameObject.html">GameObject</a>)) as <a href="GameObject.html">GameObject</a>[])
        {
            if (go.hideFlags == <a href="HideFlags.NotEditable.html">HideFlags.NotEditable</a> || go.hideFlags == <a href="HideFlags.HideAndDontSave.html">HideFlags.HideAndDontSave</a>)
                continue;<br /><br />            if (!<a href="EditorUtility.IsPersistent.html">EditorUtility.IsPersistent</a>(go.transform.root.gameObject))
                continue;<br /><br />            objectsInScene.Add(go);
        }<br /><br />        return objectsInScene;
    }
}
</pre>
      </div><hr class="section" /><div class="subsection"><div class="signature"><div class="signature-CS sig-block"><span style="color:red;"></span>public static T[] <span class="sig-kw">FindObjectsOfTypeAll</span>
        ();
      </div></div></div><div class="subsection"><h2>Description</h2><p>返回所有类型为 <code class="varname">T</code> 的对象的列表。</p></div><div class="subsection"><p>该函数可以返回任何类型的已加载的 Unity 对象，包括游戏对象、预制件、材质、网格、纹理等。此外，它还会列出内部内容，因此在处理返回的对象时要<em>格外</em> 小心。
与 <a href="Object.FindObjectsOfType.html">Object.FindObjectsOfType</a> 相反，该函数还会列出禁用的对象。<br /><br />请注意，该函数的运行速度非常缓慢，不建议在每帧中使用。</p></div><div class="subsection">
        
        <pre class="codeExampleCS">
using UnityEngine;
using <a href="UnityEditor.html">UnityEditor</a>;
using System.Collections.Generic;<br /><br />public class ExampleScript : <a href="MonoBehaviour.html">MonoBehaviour</a>
{
    // This script displays the number of allocated Unity objects by type.
    // This is useful for finding leaks. Knowing the type of object
    // (mesh, texture, sound clip, game object) that is getting leaked is
    // the first step. You could then print the names  of all leaked assets of that type.<br /><br />    void Start()
    {
        print("All " + <a href="Resources.FindObjectsOfTypeAll.html">Resources.FindObjectsOfTypeAll</a>&lt;UnityEngine.Object&gt;().Length);
        print("Textures " + <a href="Resources.FindObjectsOfTypeAll.html">Resources.FindObjectsOfTypeAll</a>&lt;<a href="Texture.html">Texture</a>&gt;().Length);
        print("AudioClips " + <a href="Resources.FindObjectsOfTypeAll.html">Resources.FindObjectsOfTypeAll</a>&lt;<a href="AudioClip.html">AudioClip</a>&gt;().Length);
        print("Meshes " + <a href="Resources.FindObjectsOfTypeAll.html">Resources.FindObjectsOfTypeAll</a>&lt;<a href="Mesh.html">Mesh</a>&gt;().Length);
        print("Materials " + <a href="Resources.FindObjectsOfTypeAll.html">Resources.FindObjectsOfTypeAll</a>&lt;<a href="Material.html">Material</a>&gt;().Length);
        print("GameObjects " + <a href="Resources.FindObjectsOfTypeAll.html">Resources.FindObjectsOfTypeAll</a>&lt;<a href="GameObject.html">GameObject</a>&gt;().Length);
        print("Components " + <a href="Resources.FindObjectsOfTypeAll.html">Resources.FindObjectsOfTypeAll</a>&lt;<a href="Component.html">Component</a>&gt;().Length);
    }
}
</pre>
      </div><div class="subsection">
        
        <pre class="codeExampleCS">
using UnityEngine;
using <a href="UnityEditor.html">UnityEditor</a>;
using System.Collections.Generic;<br /><br />public class ExampleScript : <a href="MonoBehaviour.html">MonoBehaviour</a>
{
    // This script finds all the objects in <a href="SceneManagement.Scene.html">Scene</a>, excluding Prefabs:<br /><br />    List&lt;<a href="GameObject.html">GameObject</a>&gt; GetAllObjectsInScene()
    {
        List&lt;<a href="GameObject.html">GameObject</a>&gt; objectsInScene = new List&lt;<a href="GameObject.html">GameObject</a>&gt;();<br /><br />        foreach (<a href="GameObject.html">GameObject</a> go in <a href="Resources.FindObjectsOfTypeAll.html">Resources.FindObjectsOfTypeAll</a>(typeof(<a href="GameObject.html">GameObject</a>)) as <a href="GameObject.html">GameObject</a>[])
        {
            if (go.hideFlags == <a href="HideFlags.NotEditable.html">HideFlags.NotEditable</a> || go.hideFlags == <a href="HideFlags.HideAndDontSave.html">HideFlags.HideAndDontSave</a>)
                continue;<br /><br />            if (!<a href="EditorUtility.IsPersistent.html">EditorUtility.IsPersistent</a>(go.transform.root.gameObject))
                continue;<br /><br />            objectsInScene.Add(go);
        }<br /><br />        return objectsInScene;
    }
}
</pre>
      </div><div class="subsection"><p>Display the stored GameObject names:</p></div><div class="subsection">
        
        <pre class="codeExampleCS">
using UnityEngine;
using <a href="UnityEditor.html">UnityEditor</a>;
using System.Collections.Generic;<br /><br />public class ExampleScript : <a href="MonoBehaviour.html">MonoBehaviour</a>
{
    // Find all of the GameObjects in the <a href="Resources.html">Resources</a> folder
    // Add a <a href="GameObject.html">GameObject</a> called "Player" so at least 1 <a href="GameObject.html">GameObject</a> will be stored.
    // However, there are nearly twenty GameObjects.<br /><br />    void Start()
    {
        string s = "";
        <a href="GameObject.html">GameObject</a>[] gameObjects;
        int count = 0;<br /><br />        <a href="GameObject.html">GameObject</a> player = new <a href="GameObject.html">GameObject</a>("Player");
        gameObjects = <a href="Resources.FindObjectsOfTypeAll.html">Resources.FindObjectsOfTypeAll</a>&lt;<a href="GameObject.html">GameObject</a>&gt;();<br /><br />        foreach (<a href="GameObject.html">GameObject</a> go in gameObjects)
        {
            s = s + go.name;<br /><br />            if ((count == 4))
            {
                s = s + "\n";
                count = 0;
            }
            else
            {
                s = s + ' ';
                count++;
            }
        }<br /><br />        <a href="Debug.Log.html">Debug.Log</a>(s);<br /><br />        // Prints:
        //Player SceneLight SceneLight SceneLight SceneCamera
        //<a href="GameObject.html">GameObject</a> InternalIdentityTransform torus cube cylinder
        //sphere PreviewMaterials Cylinder HandlesGO Cone
        //Cube Sphere Directional <a href="Light.html">Light</a> Main <a href="Camera.html">Camera</a>
    }
}
</pre>
      </div></div><div class="footer-wrapper"><div class="footer clear"><div class="copy">Copyright © 2019 Unity Technologies. Publication 2019.1</div><div class="menu"><a href="https://unity3d.com/learn">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a></div></div><div></div></div></div></div></div></div></body></html>