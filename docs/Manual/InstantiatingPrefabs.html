<!DOCTYPE html><html class="no-js">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta name="robots" content="noindex">
<meta property="og:title" content="Instantiating Prefabs at run time - Unity Manual">
<title>Instantiating Prefabs at run time - Unity Manual</title>
<meta property="og:image" content="https://docs.unity3d.com/zh_CN/2019.1/uploads/Main/PrefabDragIntoField.png">
<meta name="description" content="Prefabs come in very handy when you want to instantiate complicated GameObjects or collections of GameObjects at run time. Compared with creating GameObjects from scratch using code, instantiating Prefabs using code has many advantages because you can:">
<meta property="og:description" content="Prefabs come in very handy when you want to instantiate complicated GameObjects or collections of GameObjects at run time. Compared with creating GameObjects from scratch using code, instantiating Prefabs using code has many advantages because you can:">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="../StaticFiles/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script>
      var docs_type = 'Manual';
      var lang = 'zh_CN';
      var page = 'InstantiatingPrefabs';
      if(!page) page = 'index';
      var version = '2019.1';
      var docs_versions = [{version: '2019.3',version_string: '2019.3'},{version: '2019.2',version_string: '2019.2'},{version: '2019.1',version_string: '2019.1'},{version: '2018.4',version_string: '2018.4'},{version: '2018.3',version_string: '2018.3'},{version: '2018.2',version_string: '2018.2'},{version: '2018.1',version_string: '2018.1'},{version: '2017.4',version_string: '2017.4'},{version: '2017.3',version_string: '2017.3'},{version: '2017.2',version_string: '2017.2'},{version: '2017.1',version_string: '2017.1'},{version: '5.6',version_string: '560'},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
</head>
<body>
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">Manual</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2019.1</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;"><ul>
<li><a class="docs_version_url_2019.3" href="/zh_CN/2019.3/Manual/InstantiatingPrefabs.html">2019.3</a></li>
<li><a class="docs_version_url_2019.2" href="/zh_CN/2019.2/Manual/InstantiatingPrefabs.html">2019.2</a></li>
<li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/Manual/InstantiatingPrefabs.html">2019.1</a></li>
<li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/Manual/InstantiatingPrefabs.html">2018.4</a></li>
<li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/Manual/InstantiatingPrefabs.html">2018.3</a></li>
<li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/Manual/InstantiatingPrefabs.html">2018.2</a></li>
<li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/Manual/InstantiatingPrefabs.html">2018.1</a></li>
<li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/Manual/InstantiatingPrefabs.html">2017.4</a></li>
<li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/Manual/InstantiatingPrefabs.html">2017.3</a></li>
<li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/Manual/InstantiatingPrefabs.html">2017.2</a></li>
<li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/Manual/InstantiatingPrefabs.html">2017.1</a></li>
<li><a class="docs_version_url_560" href="/zh_CN/560/Manual/InstantiatingPrefabs.html">5.6</a></li>
</ul></div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">Manual</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">Scripting API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">Language:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2019.1/Documentation/Manual/InstantiatingPrefabs.html">English</a></li>
<li><a data-lang="ja" href="/ja/2019.1/Manual/InstantiatingPrefabs.html">日本語</a></li>
<li><a data-lang="es" href="/es/2019.1/Manual/InstantiatingPrefabs.html">Español</a></li>
<li><a data-lang="kr" href="/kr/2019.1/Manual/InstantiatingPrefabs.html">한국어</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>Manual</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2019.1</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;"><ul>
<li><a class="docs_version_url_2019.3" href="/zh_CN/2019.3/Manual/InstantiatingPrefabs.html">2019.3</a></li>
<li><a class="docs_version_url_2019.2" href="/zh_CN/2019.2/Manual/InstantiatingPrefabs.html">2019.2</a></li>
<li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/Manual/InstantiatingPrefabs.html">2019.1</a></li>
<li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/Manual/InstantiatingPrefabs.html">2018.4</a></li>
<li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/Manual/InstantiatingPrefabs.html">2018.3</a></li>
<li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/Manual/InstantiatingPrefabs.html">2018.2</a></li>
<li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/Manual/InstantiatingPrefabs.html">2018.1</a></li>
<li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/Manual/InstantiatingPrefabs.html">2017.4</a></li>
<li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/Manual/InstantiatingPrefabs.html">2017.3</a></li>
<li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/Manual/InstantiatingPrefabs.html">2017.2</a></li>
<li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/Manual/InstantiatingPrefabs.html">2017.1</a></li>
<li><a class="docs_version_url_560" href="/zh_CN/560/Manual/InstantiatingPrefabs.html">5.6</a></li>
</ul></div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual (2019.1)</a></li>
<li><a href="UnityOverview.html">在 Unity 中操作</a></li>
<li><a href="CreatingGameplay.html">创建游戏玩法</a></li>
<li><a href="Prefabs.html">预制件</a></li>
<li>Instantiating Prefabs at run time</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UnpackingPrefabInstances.html"></a></span><div class="tip">Unpacking Prefab instances</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="Input.html"></a></span><div class="tip">输入</div>
</div>
</div></div>
<h1>Instantiating Prefabs at run time</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p><a href="https://docs.unity3d.com/Manual/Prefabs.html">Prefabs</a> come in very handy when you want to instantiate complicated GameObjects or collections of GameObjects at run time. Compared with creating GameObjects from scratch using code, instantiating Prefabs using code has many advantages because you can:</p>

<ul>
<li><p>Instantiate a Prefab using one line of code. Creating equivalent GameObjects from scratch requires many more lines of code.</p></li>
<li><p>Set up, test, and modify the Prefab quickly and easily using the <strong>Scene view, Hierarchy</strong> and <strong>Inspector</strong>.</p></li>
<li><p>Change which Prefab is instantiated without changing the code. You can make a simple rocket into a super-charged rocket, without any code changes.</p></li>
</ul>

<p><strong>Note</strong>: You can download a Unity Project containing all the examples on this page, here:</p>

<p><strong><a href="../uploads/Examples/InstantiatingPrefabsExamples.zip">InstantiatingPrefabsExamples.zip</a></strong></p>

<h2>Basics of instantiating a Prefab</h2>

<p>To instantiate a Prefab at run time, your code needs a reference to that Prefab. You can make this reference by creating a public variable in your code to hold the Prefab reference. The public variable in your code appears as an assignable field in the Inspector. You can then assign the actual Prefab you want to use in the Inspector.</p>

<p>The script example below has a single public variable, <strong>“myPrefab”</strong>, that is a reference to a Prefab. It creates an instance of that Prefab in the <strong>Start()</strong> method.</p>

<pre><code>Using UnityEngine;
public class InstantiationExample : MonoBehaviour 
{
    // Reference to the Prefab. Drag a Prefab into this field in the Inspector.
    public GameObject myPrefab;

    // This script will simply instantiate the Prefab when the game starts.
    void Start()
    {
        // Instantiate at position (0, 0, 0) and zero rotation.
        Instantiate(myPrefab, new Vector3(0, 0, 0), Quaternion.identity);
    }
}
</code></pre>

<p>要使用此示例，请执行以下操作：</p>

<ul>
<li><p>Create a new C# script in your Project, and name it “InstantiationExample”.</p></li>
<li><p>Copy and paste in the script example above into your new script, and save it.</p></li>
<li><p>Create an empty GameObject using the menu <strong>GameObject &gt; Create Empty</strong>.</p></li>
<li><p>Add the script to the new GameObject as a component by dragging it onto the empty GameObject.</p></li>
<li><p><a href="CreatingPrefabs.html">Create any Prefab</a>, and drag it from the <strong>Project window</strong> into the <strong>My Prefab</strong> field in the script component.</p></li>
</ul>

<figure>
<img src="../uploads/Main/PrefabDragIntoField.png" alt="Dragging a Prefab from the Project window into the My Prefab field in the script component">
<figcaption>Dragging a Prefab from the Project window into the My Prefab field in the script component</figcaption>
</figure>

<p>When you start Play Mode, you should see your Prefab instantiate at position (0, 0, 0) in the Scene.</p>

<p>You can drag a different Prefab into the <strong>My Prefab</strong> field in the Inspector to change which Prefab is instantiated, without having to change the script.</p>

<p>Because this first example is very simple, it may not seem to provide any advantage over just placing a Prefab into the Scene yourself. However, being able to instantiate Prefabs using code provides you with powerful abilities to dynamically create complex configurations of GameObjects while your game or app is running, as shown in the following examples.</p>

<h2>Common scenarios</h2>

<p>To illustrate the strength of instantiating Prefabs at run time, here are some basic situations where they are useful: </p>

<ul>
<li><p>Building a structure out of a single Prefab by replicating it multiple times in different positions, for example in a grid or circle formation.</p></li>
<li><p>Firing a projectile Prefab from a launcher. The projectile Prefab could be a complex configuration containing a <strong>Mesh</strong>, <strong>Rigidbody</strong>, <strong>Collider</strong>, <strong>AudioSource</strong>, <strong>Dynamic Light</strong>, and a child GameObject with its own trail <strong>Particle System</strong>.</p></li>
<li><p>A vehicle, building or character, for example a robot, breaking apart into many pieces. In this scenario, the example script deletes and replaces the complete, operational robot Prefab with a wrecked robot Prefab. This wrecked Prefab consists of separate broken parts of the robot, each set up with Rigidbodies and Particle Systems of their own. This technique allows you to blow up a robot into many pieces, with just one line of code, which replaces the original GameObject with a wrecked Prefab.</p></li>
</ul>

<p>The following sections show you how to implement these scenarios.</p>

<h3>Building a structure</h3>

<p>You can use code to create many copies of a Prefab in a particular configuration almost instantaneously. Using code to generate structures like this is called procedural generation. The example below creates a wall of block instances.</p>

<p>To try this example, create the script below, name it <strong>Wall</strong>, and place it on an empty GameObject in your Scene.</p>

<pre><code>using UnityEngine;
public class Wall : MonoBehaviour
{
   public GameObject block;
   public int width = 10;
   public int height = 4;
  
   void Start()
   {
       for (int y=0; y&lt;height; ++y)
       {
           for (int x=0; x&lt;width; ++x)
           {
               Instantiate(block, new Vector3(x,y,0), Quaternion.identity);
           }
       }       
   }
}
</code></pre>

<p>When you have done this, you should see the <strong>Block</strong> variable in the Inspector, with the word <strong>None</strong> in the field. A value of “None” means that no Prefab has been assigned to this variable yet. </p>

<figure>
<img src="../uploads/Main/InstantiatingWallBlockNotAssigned.png" alt="The Block variable, with no Prefab assigned yet">
<figcaption>The <strong>Block</strong> variable, with no Prefab assigned yet</figcaption>
</figure>

<p>The example script above won’t work until you assign a Prefab to the <strong>Block</strong> variable. To create a simple bock Prefab:</p>

<ol>
<li><p>Choose <strong>GameObject &gt; 3D Object &gt; Cube.</strong></p></li>
<li><p>Drag the cube from the <strong>Hierarchy</strong> w<strong>indow </strong>into the <strong>Assets </strong>folder in the <strong>Project</strong> <strong>window. </strong>This creates a Prefab Asset.</p></li>
<li><p>Rename your Prefab to “Block”.</p></li>
<li><p>Now that your <strong>Block</strong> Prefab exists as an Asset, you can safely delete the cube from your Hierarchy. </p></li>
</ol>

<p>Now that you have created a Block Prefab, you can assign it to the <strong>Block</strong> variable. Select your original GameObject (the one with the “Wall” script attached to it). Then drag the “Block” Prefab from the <strong>Project window</strong> into the “Block” variable slot (where it says “None”).</p>

<figure>
<img src="../uploads/Main/InstantiatingWallBlockAssigned.png" alt="The Block variable, with the Block Prefab assigned to it ">
<figcaption>The <strong><em>Block</em></strong> variable, with the Block Prefab assigned to it
</figcaption>
</figure>

<p>When you have finished this set-up, click <strong>Play</strong> and you’ll see that Unity builds the wall using the Prefab:</p>

<figure>
<img src="../uploads/Main/InstantiatingWallComplete.png" alt="A wall built from 4 rows of 10 blocks, as generated by the example above.">
<figcaption>A wall built from 4 rows of 10 blocks, as generated by the example above.</figcaption>
</figure>

<p>This is a flexible workflow pattern that you can use over and over again in Unity. Because you are using a Prefab in this script, you can easily replace or edit the Prefab to modify the properties of the bricks in the wall, without needing to touch the script. You can also use your Wall script on other GameObjects in your Scene with different Prefabs assigned to them to have various walls made from different types of Prefab.</p>

<p>You can use code to place a GameObject in a grid, in circle pattern, randomly scattered, or any other configurations that you can think of to fit whatever game or app you are creating. Here’s another example showing how to place instances in a circular formation:</p>

<pre><code>using UnityEngine;
public class CircleFormation : MonoBehaviour
{
   // Instantiates prefabs in a circle formation
   public GameObject prefab;
   public int numberOfObjects = 20;
   public float radius = 5f;
   void Start()
   {
       for (int i = 0; i &lt; numberOfObjects; i++)
       {
           float angle = i * Mathf.PI * 2 / numberOfObjects;
           float x = Mathf.Cos(angle) * radius;
           float z = Mathf.Sin(angle) * radius;
           Vector3 pos = transform.position + new Vector3(x, 0, z);
           float angleDegrees = -angle*Mathf.Rad2Deg;
           Quaternion rot = Quaternion.Euler(0, angleDegrees, 0);
           Instantiate(prefab, pos, rot);
       }
   }
}
</code></pre>

<figure>
<img src="../uploads/Main/InstantiatingCircle.png" alt="A circular arrangement of blocks, as generated by the example above">
<figcaption>A circular arrangement of blocks, as generated by the example above</figcaption>
</figure>

<h3>Instantiating projectiles &amp; explosions</h3>

<p>In this scenario:</p>

<ol>
<li><p>A “Launcher” GameObject instantiates a projectile Prefab when the player presses the fire button. The Prefab contains a mesh, a Rigidbody, and a Collider, so it can fly through the air and detect when a collision occurs.</p></li>
<li><p>The projectile collides with something and instantiates an explosion Prefab. The explosion Prefab contains a Particle System effect and a script that applies a force to surrounding GameObjects.</p></li>
</ol>

<p>In the same way as the Block Prefab above, you can instantiate the projectile in just one line of code, no matter how complex the projectile Prefab is. After instantiating the Prefab, you can also modify any properties of the instantiated GameObject. For example, you can set the velocity of the projectile’s Rigidbody.</p>

<p>As well as being easier to use, you can modify the Prefab later on without touching the code. So if your projectile is a rocket, later on you could add a Particle System to it to make it leave a cloud trail. After you do this, all your instantiated rockets have particle trails.</p>

<p>This script shows how to launch a projectile using the <strong>Instantiate()</strong> function.</p>

<pre><code>using UnityEngin
public class FireProjectile : MonoBehaviour
{
    public Rigidbody projectile;
    public float speed = 4;
    void Update()
    {
        if (Input.GetButtonDown("Fire1"))
        {
            Rigidbody p = Instantiate(projectile, transform.position, transform.rotation);
            p.velocity = transform.forward * speed;
        }
    }
}
</code></pre>

<p>In the code, the Prefab variable type is a Rigidbody, and not GameObject. This has two useful effects:</p>

<ol>
<li><p>Only GameObjects that have a Rigidbody component can be assigned to this variable. This is useful because it helps make sure you’re assigning the correct GameObject to the variable.</p></li>
<li><p>The Instantiate method returns a reference to the Rigidbody component on the new instance. This is useful because it makes it simple to set the velocity of the Rigidbody immediately after instantiating it.</p></li>
</ol>

<p>When making a public Prefab variable, the variable type can be a GameObject, or it can be any valid Component type (either a built-in Unity component or one of your own MonoBehaviour script).</p>

<p>For GameObject type variables, you can assign any GameObject to the variable, and the Instantiate function returns a reference to the new GameObject instance.</p>

<p>For component type variables (such as Rigidbody, Collider, and Light), you can only assign GameObjects of that component type to the variable, and the Instantiate function returns a reference to that specific component on the new GameObject instance.</p>

<p>The following script (placed on the projectile Prefab) performs the action of instantiating the explosion at the projectile’s current position and removing the projectile GameObject when the projectile collides with something.</p>

<pre><code>using UnityEngine;
public class Projectile : MonoBehaviour
{
   public GameObject explosion;
   void OnCollisionEnter()
   {
       Instantiate(explosion,transform.position,transform.rotation);
       Destroy(gameObject);
   }
}
</code></pre>

<figure>
<img src="../uploads/Main/PrefabsProjectileAndExplosion.gif" alt="An example of projectile Prefabs being instantiated, and replaced with explosion Prefabs when they impact">
<figcaption>An example of projectile Prefabs being instantiated, and replaced with explosion Prefabs when they impact</figcaption>
</figure>

<p>Notice in the image above, which shows the scripts running in Play mode, the instantiated GameObjects appear in the Hierarchy, with the word “(Clone)” appended to the name.</p>

<h3>Replacing a character with a ragdoll or wreck</h3>

<p>Often in games, you might want to switch a character, vehicle, building or other Asset from an “intact” state to a “destroyed” state. Rather than trying to modify the intact version of the GameObject (such as removing scripts, adding Rigidbody components and so on), it’s often much more efficient and effective to delete the entire intact GameObject and replace it with an instantiated destroyed Prefab. This gives you a lot of flexibility. You could use a different Material for the destroyed version, attach completely different scripts, or instantiate a Prefab containing the GameObject broken into many pieces to simulate a wrecked and shattered version of the original GameObject. Any of these options can be achieved with a single call to Instantiate(), to bring your destroyed version into the Scene, while deleting the original.</p>

<p>Most importantly, you can create the destroyed version which you Instantiate() with completely different GameObjects compared to the original. For example, to create a breakable robot, you would model two versions: one that consists of a single GameObject with Mesh Renderer</p>

<p>and scripts for robot movement, and the other that consists of several skeletal parts that can be controlled individually by physics. Your game runs faster when using the model with just one GameObject, because the model contains fewer triangles and so it renders faster than the robot that has many small parts. Also while your robot is happily walking around, there is no reason to have it in separate parts.</p>

<p>To build a wrecked robot Prefab, you could:</p>

<ol>
<li><p>Model your robot with lots of different skeletal parts in your favorite 3D modeling software, and export it into the Assets folder of your Unity Project.</p></li>
<li><p>Create an empty Scene in the Unity Editor.</p></li>
<li><p>Drag the model from the Project window into the empty Scene.</p></li>
<li><p>Add Rigidbodies to all parts, by selecting all the parts and choosing <strong>Component &gt; Physics &gt; Rigidbody.</strong></p></li>
<li><p>Add Colliders to all parts by selecting all the parts and choosing <strong>Component &gt; Physics &gt; Mesh Collider</strong> (enable the <strong>Convex</strong> option for faster performance).</p></li>
<li><p>Make sure you parent all the parts of your wrecked robot to a single root GameObject.</p></li>
<li><p>For an extra special effect, add a smoke-like Particle System as a child GameObject to each of the parts.</p></li>
<li><p>Now you have a robot with multiple explodable parts. The parts can fall to the ground because they are controlled by physics, and each part creates a Particle trail due to the attached Particle System. </p></li>
<li><p>Click Play to preview how your model reacts, and make any necessary tweaks.</p></li>
<li><p>Drag the root GameObject into the <strong>Assets </strong>folder in the <strong>Project window </strong>to create a new Prefab.</p></li>
</ol>

<p>The following example shows how you can model these steps in code.</p>

<pre><code>using UnityEngine;
public class WreckOnCollision : MonoBehaviour
{
   public GameObject wreckedVersion;
   // Update is called once per frame
   void OnCollisionEnter()
   {
       Destroy(gameObject);
       Instantiate(wreckedVersion,transform.position,transform.rotation);
   }
}
</code></pre>

<figure>
<img src="../uploads/Main/PrefabWreckSwap.gif" alt="An example of a robot Prefab being swapped for a wrecked Prefab when hit by a projectile">
<figcaption>An example of a robot Prefab being swapped for a wrecked Prefab when hit by a projectile</figcaption>
</figure>

<p>You can download a Project containing all these example, here:
<strong><a href="../uploads/Examples/InstantiatingPrefabsExamples.zip">InstantiatingPrefabsExamples.zip</a></strong></p>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="UnpackingPrefabInstances.html"></a></span><div class="tip">Unpacking Prefab instances</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="Input.html"></a></span><div class="tip">输入</div>
</div>
</div>
</div>
<div class="footer-wrapper">
<div class="footer clear">
<div class="copy">Copyright © 2019 Unity Technologies. Publication 2019.1</div>
<div class="menu">
<a href="https://unity3d.com/learn">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div>
<div></div>
</div>
</div></div></div>
</div>
</body>
</html>
