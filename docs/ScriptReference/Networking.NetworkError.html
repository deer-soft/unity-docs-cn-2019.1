<!DOCTYPE html><html class="no-js"><head><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="twitter:card" content="summary" /><meta name="robots" content="noindex" /><meta property="og:title" content="NetworkError - Unity Scripting API" /><title>NetworkError - Unity Scripting API</title><meta name="description" content="可能的 Networking.NetworkTransport 错误。" /><meta property="og:description" content="可能的 Networking.NetworkTransport 错误。" /><meta name="author" content="Unity Technologies" /><link rel="shortcut icon" href="../StaticFiles/images/favicons/favicon.ico" /><link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png" /><link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png" /><link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png" /><link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png" /><link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png" /><link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png" /><link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png" /><meta name="msapplication-TileColor" content="#222c37" /><meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png" /><script>
      var docs_type = 'ScriptReference';
      var lang = 'zh_CN';
      var page = 'NetworkError';
      if(!page) page = 'index';
      var version = '2019.1';
      var docs_versions = [{version: '2019.3',version_string: '2019.3'},{version: '2019.2',version_string: '2019.2'},{version: '2019.1',version_string: '2019.1'},{version: '2018.4',version_string: '2018.4'},{version: '2018.3',version_string: '2018.3'},{version: '2018.2',version_string: '2018.2'},{version: '2018.1',version_string: '2018.1'},{version: '2017.4',version_string: '2017.4'},{version: '2017.3',version_string: '2017.3'},{version: '2017.2',version_string: '2017.2'},{version: '2017.1',version_string: '2017.1'},{version: '5.6',version_string: '560'},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css" /><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css" /><link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css" /></head><body><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="header-wrapper"><div id="header" class="header"><div class="content"><div class="spacer"><div class="menu"><div id="nav-open" for="nav-input"><span></span></div><div class="logo"><a href="https://docs.unity3d.com"></a></div><div class="search-form"><form action="30_search.html" method="get" class="apisearch"><input type="text" name="q" placeholder="Search scripting..." autosave="Unity Reference" results="5" class="sbox field" id="q"></input><input type="submit" class="submit"></input></form></div><ul class="menu-items"><li class="menu-item"><a href="../Manual/index.html" class="">Manual</a></li><li class="menu-item"><a href="../ScriptReference/index.html" class="selected">Scripting API</a></li></ul></div></div><div class="more"><div class="filler"></div><ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul></div></div></div><div class="toolbar"><div class="content"><div class="version-switcher"><div class="current toggle" data-target=".version-list"><div class="version-number"><div class="d-inline-block">
          Version:
          <b>2019.1</b></div><div class="d-inline-block arrow"></div></div></div><div class="version-list" style="display:none;"><ul><li><a class="docs_version_url_2019.3" href="/zh_CN/2019.3/ScriptReference/NetworkError.html">2019.3</a></li><li><a class="docs_version_url_2019.2" href="/zh_CN/2019.2/ScriptReference/NetworkError.html">2019.2</a></li><li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/ScriptReference/NetworkError.html">2019.1</a></li><li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/ScriptReference/NetworkError.html">2018.4</a></li><li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/ScriptReference/NetworkError.html">2018.3</a></li><li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/ScriptReference/NetworkError.html">2018.2</a></li><li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/ScriptReference/NetworkError.html">2018.1</a></li><li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/ScriptReference/NetworkError.html">2017.4</a></li><li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/ScriptReference/NetworkError.html">2017.3</a></li><li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/ScriptReference/NetworkError.html">2017.2</a></li><li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/ScriptReference/NetworkError.html">2017.1</a></li><li><a class="docs_version_url_560" href="/zh_CN/560/ScriptReference/NetworkError.html">5.6</a></li></ul></div></div><ul class="nav-menu-items"><li class="menu-item"><a href="../Manual/index.html" class="">Manual</a></li><li class="menu-item"><a href="../ScriptReference/index.html" class="selected">Scripting API</a></li></ul><div class="lang-switcher"><div class="current toggle" data-target=".lang-list"><div class="lbl">Language:
        <span class="b">中文</span></div><div class="arrow"></div></div><div class="lang-list" style="display:none;"><ul><li><a data-lang="en" href="/2019.1/Documentation/ScriptReference/NetworkError.html">English</a></li><li><a data-lang="ja" href="/ja/2019.1/ScriptReference/NetworkError.html">日本語</a></li><li><a data-lang="es" href="/es/2019.1/ScriptReference/NetworkError.html">Español</a></li><li><a data-lang="kr" href="/kr/2019.1/ScriptReference/NetworkError.html">한국어</a></li></ul></div></div></div></div></div><div id="master-wrapper" class="master-wrapper clear"><div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc"><h2>Scripting API</h2><div class="version-switcher"><div class="current toggle" data-target=".version-list"><div class="version-number"><div class="d-inline-block">
          Version:
          <b>2019.1</b></div><div class="d-inline-block arrow"></div></div></div><div class="version-list" style="display:none;"><ul><li><a class="docs_version_url_2019.3" href="/zh_CN/2019.3/ScriptReference/NetworkError.html">2019.3</a></li><li><a class="docs_version_url_2019.2" href="/zh_CN/2019.2/ScriptReference/NetworkError.html">2019.2</a></li><li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/ScriptReference/NetworkError.html">2019.1</a></li><li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/ScriptReference/NetworkError.html">2018.4</a></li><li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/ScriptReference/NetworkError.html">2018.3</a></li><li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/ScriptReference/NetworkError.html">2018.2</a></li><li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/ScriptReference/NetworkError.html">2018.1</a></li><li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/ScriptReference/NetworkError.html">2017.4</a></li><li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/ScriptReference/NetworkError.html">2017.3</a></li><li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/ScriptReference/NetworkError.html">2017.2</a></li><li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/ScriptReference/NetworkError.html">2017.1</a></li><li><a class="docs_version_url_560" href="/zh_CN/560/ScriptReference/NetworkError.html">5.6</a></li></ul></div></div><div class="clear"></div></div></div></div></div></div><div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content"><div class="section"><div class="mb20 clear" id=""><h1 class="heading inherit">NetworkError</h1><div class="clear"></div><p class="cl mb0 left mr10">enumeration</p><div class="clear"></div><a href="" class="switch-link gray-btn sbtn left hide">Switch to Manual</a><div class="clear"></div></div><div class="subsection"><div class="signature"><div class="signature-CS sig-block"><span style="color:red;"></span></div></div></div><div class="subsection"><h2>Description</h2><p>可能的 Networking.NetworkTransport 错误。</p></div><div class="subsection"><p>一组可能的 NetworkTransport 错误。如果 NetworkTransport 函数返回错误，您可以使用 NetworkError 来确定发生的错误的类型。
请务必使用 NetworkTransport.Receive 或类似功能来监听这些类型的事件。</p></div><div class="subsection">
        
        <pre class="codeExampleCS">
//Create a Button (<strong>Create</strong>&gt;<strong>UI</strong>&gt;<strong>Button</strong>) for the host.<br /><br />//Attach this Button in the Inspector of your <a href="GameObject.html">GameObject</a>.<br /><br />//In Play Mode, click the Button to connect. If the connection works, the details are output to the Console window. If there is an error, the error is output to the console.<br /><br />using UnityEngine;
using UnityEngine.Networking;
using UnityEngine.UI;<br /><br />public class Example : <a href="MonoBehaviour.html">MonoBehaviour</a>
{
    int m_ServerSocket;<br /><br />    HostTopology m_HostTopology;<br /><br />    //These are the Buttons that start the client and server, and the Button for sending messages
    //Assure that you assign these in the Inspector before testing
    public Button m_ServerButton;<br /><br />    void Start()
    {
        //Set up the <a href="MemoryProfiler.Connection.html">Connection</a> Configuration which holds channel information
        ConnectionConfig config = new ConnectionConfig();<br /><br />        //Create a new Host information based on the configuration created, and the maximum connections allowed (20)
        m_HostTopology = new HostTopology(config, 20);
        //Initialise the NetworkTransport
        NetworkTransport.Init();<br /><br />        //Call the ServerButton function when you click the server Button
        m_ServerButton.onClick.AddListener(ServerButton);
    }<br /><br />    void <a href="Experimental.PlayerLoop.Update.html">Update</a>()
    {
        //These are the variables that are replaced by the incoming message
        int outHostId;
        int outConnectionId;
        int outChannelId;
        byte[] buffer = new byte[1024];
        int receivedSize;
        byte error;<br /><br />        //Set up the Network Transport to receive the incoming message, and decide what type of event
        <a href="Networking.NetworkEventType.html">NetworkEventType</a> eventType = NetworkTransport.Receive(out outHostId, out outConnectionId, out outChannelId, buffer, buffer.Length, out receivedSize, out error);<br /><br />        switch (eventType)
        {
            //Use this case when there is a connection detected
            case <a href="Networking.NetworkEventType.ConnectEvent.html">NetworkEventType.ConnectEvent</a>:
            {
                //Call the function to deal with the received information
                OnConnect(outHostId, outConnectionId, (<a href="Networking.NetworkError.html">NetworkError</a>)error);
                break;
            }<br /><br />            case <a href="Networking.NetworkEventType.Nothing.html">NetworkEventType.Nothing</a>:
                break;<br /><br />            default:
                //Output the error
                <a href="Debug.LogError.html">Debug.LogError</a>("Unknown network message type received: " + eventType);
                break;
        }
    }<br /><br />    //This function is called when a connection is detected
    void OnConnect(int hostID, int connectionID, <a href="Networking.NetworkError.html">NetworkError</a> error)
    {
        //Output the given information to the console
        <a href="Debug.Log.html">Debug.Log</a>("OnConnect(hostId = " + hostID + ", connectionId = "
            + connectionID + ", error = " + error.ToString() + ")");
    }<br /><br />    void ServerButton()
    {
        byte error;
        //Open the sockets for sending and receiving the messages on port 54321
        m_ServerSocket = NetworkTransport.AddHost(m_HostTopology, 54321);
        //Connect the "server"
        NetworkTransport.Connect(m_ServerSocket, "127.0.0.1", 54321, 0, out error);
        //Check for if there is an error
        if ((<a href="Networking.NetworkError.html">NetworkError</a>)error != <a href="Networking.NetworkError.Ok.html">NetworkError.Ok</a>)
        {
            //Output this message in the console with the Network <a href="PackageManager.Error.html">Error</a>
            <a href="Debug.Log.html">Debug.Log</a>("There was this error : " + (<a href="Networking.NetworkError.html">NetworkError</a>)error);
        }
        //Otherwise if no errors occur, output this message to the console
        else <a href="Debug.Log.html">Debug.Log</a>("Connected : " + (<a href="Networking.NetworkError.html">NetworkError</a>)error);
    }
}
</pre>
      </div><div class="subsection"><h2>Variables</h2><table class="list">
      <tr><td class="lbl"><a href="Networking.NetworkError.Ok.html">Ok</a></td><td class="desc">操作已成功完成。</td></tr>
      <tr><td class="lbl"><a href="Networking.NetworkError.WrongHost.html">WrongHost</a></td><td class="desc">指定的主机不可用。</td></tr>
      <tr><td class="lbl"><a href="Networking.NetworkError.WrongConnection.html">WrongConnection</a></td><td class="desc">指定的 connectionId 不存在。</td></tr>
      <tr><td class="lbl"><a href="Networking.NetworkError.WrongChannel.html">WrongChannel</a></td><td class="desc">指定的通道不存在。</td></tr>
      <tr><td class="lbl"><a href="Networking.NetworkError.NoResources.html">NoResources</a></td><td class="desc">没有足够的资源可用于处理此请求。</td></tr>
      <tr><td class="lbl"><a href="Networking.NetworkError.BadMessage.html">BadMessage</a></td><td class="desc">不是数据消息。</td></tr>
      <tr><td class="lbl"><a href="Networking.NetworkError.Timeout.html">Timeout</a></td><td class="desc">连接超时。</td></tr>
      <tr><td class="lbl"><a href="Networking.NetworkError.MessageToLong.html">MessageToLong</a></td><td class="desc">消息太长，无法写入缓冲区。</td></tr>
      <tr><td class="lbl"><a href="Networking.NetworkError.WrongOperation.html">WrongOperation</a></td><td class="desc">操作不受支持。</td></tr>
      <tr><td class="lbl"><a href="Networking.NetworkError.VersionMismatch.html">VersionMismatch</a></td><td class="desc">协议版本不兼容。请检查您的库版本。</td></tr>
      <tr><td class="lbl"><a href="Networking.NetworkError.CRCMismatch.html">CRCMismatch</a></td><td class="desc">Networking.ConnectionConfig 与另一个端点不匹配。</td></tr>
      <tr><td class="lbl"><a href="Networking.NetworkError.DNSFailure.html">DNSFailure</a></td><td class="desc">提供用于连接的地址无效或无法解析。</td></tr>
      <tr><td class="lbl"><a href="Networking.NetworkError.UsageError.html">UsageError</a></td><td class="desc">如果使用不合适的参数值调用任何函数，则会发生此错误。</td></tr>
    </table></div></div><div class="footer-wrapper"><div class="footer clear"><div class="copy">Copyright © 2019 Unity Technologies. Publication 2019.1</div><div class="menu"><a href="https://unity3d.com/learn">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a></div></div><div></div></div></div></div></div></div></body></html>