<!DOCTYPE html><html class="no-js"><head><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="twitter:card" content="summary" /><meta name="robots" content="noindex" /><meta property="og:title" content="UnityEngine.CapsulecastCommand - Unity Scripting API" /><title>UnityEngine.CapsulecastCommand - Unity Scripting API</title><meta name="description" content="Use this struct to set up a capsule cast command that is performed asynchronously during a job." /><meta property="og:description" content="Use this struct to set up a capsule cast command that is performed asynchronously during a job." /><meta name="author" content="Unity Technologies" /><link rel="shortcut icon" href="../StaticFiles/images/favicons/favicon.ico" /><link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png" /><link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png" /><link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png" /><link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png" /><link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png" /><link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png" /><link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png" /><meta name="msapplication-TileColor" content="#222c37" /><meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png" /><script>
      var docs_type = 'ScriptReference';
      var lang = 'zh_CN';
      var page = 'UnityEngine.CapsulecastCommand';
      if(!page) page = 'index';
      var version = '2019.1';
      var docs_versions = [{version: '2019.3',version_string: '2019.3'},{version: '2019.2',version_string: '2019.2'},{version: '2019.1',version_string: '2019.1'},{version: '2018.4',version_string: '2018.4'},{version: '2018.3',version_string: '2018.3'},{version: '2018.2',version_string: '2018.2'},{version: '2018.1',version_string: '2018.1'},{version: '2017.4',version_string: '2017.4'},{version: '2017.3',version_string: '2017.3'},{version: '2017.2',version_string: '2017.2'},{version: '2017.1',version_string: '2017.1'},{version: '5.6',version_string: '560'},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css" /><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css" /><link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css" /></head><body><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="header-wrapper"><div id="header" class="header"><div class="content"><div class="spacer"><div class="menu"><div id="nav-open" for="nav-input"><span></span></div><div class="logo"><a href="https://docs.unity3d.com"></a></div><div class="search-form"><form action="30_search.html" method="get" class="apisearch"><input type="text" name="q" placeholder="Search scripting..." autosave="Unity Reference" results="5" class="sbox field" id="q"></input><input type="submit" class="submit"></input></form></div><ul class="menu-items"><li class="menu-item"><a href="../Manual/index.html" class="">Manual</a></li><li class="menu-item"><a href="../ScriptReference/index.html" class="selected">Scripting API</a></li></ul></div></div><div class="more"><div class="filler"></div><ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul></div></div></div><div class="toolbar"><div class="content"><div class="version-switcher"><div class="current toggle" data-target=".version-list"><div class="version-number"><div class="d-inline-block">
          Version:
          <b>2019.1</b></div><div class="d-inline-block arrow"></div></div></div><div class="version-list" style="display:none;"><ul><li><a class="docs_version_url_2019.3" href="/zh_CN/2019.3/ScriptReference/UnityEngine.CapsulecastCommand.html">2019.3</a></li><li><a class="docs_version_url_2019.2" href="/zh_CN/2019.2/ScriptReference/UnityEngine.CapsulecastCommand.html">2019.2</a></li><li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/ScriptReference/UnityEngine.CapsulecastCommand.html">2019.1</a></li><li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/ScriptReference/UnityEngine.CapsulecastCommand.html">2018.4</a></li><li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/ScriptReference/UnityEngine.CapsulecastCommand.html">2018.3</a></li><li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/ScriptReference/UnityEngine.CapsulecastCommand.html">2018.2</a></li><li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/ScriptReference/UnityEngine.CapsulecastCommand.html">2018.1</a></li><li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/ScriptReference/UnityEngine.CapsulecastCommand.html">2017.4</a></li><li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/ScriptReference/UnityEngine.CapsulecastCommand.html">2017.3</a></li><li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/ScriptReference/UnityEngine.CapsulecastCommand.html">2017.2</a></li><li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/ScriptReference/UnityEngine.CapsulecastCommand.html">2017.1</a></li><li><a class="docs_version_url_560" href="/zh_CN/560/ScriptReference/UnityEngine.CapsulecastCommand.html">5.6</a></li></ul></div></div><ul class="nav-menu-items"><li class="menu-item"><a href="../Manual/index.html" class="">Manual</a></li><li class="menu-item"><a href="../ScriptReference/index.html" class="selected">Scripting API</a></li></ul><div class="lang-switcher"><div class="current toggle" data-target=".lang-list"><div class="lbl">Language:
        <span class="b">中文</span></div><div class="arrow"></div></div><div class="lang-list" style="display:none;"><ul><li><a data-lang="en" href="/2019.1/Documentation/ScriptReference/UnityEngine.CapsulecastCommand.html">English</a></li><li><a data-lang="ja" href="/ja/2019.1/ScriptReference/UnityEngine.CapsulecastCommand.html">日本語</a></li><li><a data-lang="es" href="/es/2019.1/ScriptReference/UnityEngine.CapsulecastCommand.html">Español</a></li><li><a data-lang="kr" href="/kr/2019.1/ScriptReference/UnityEngine.CapsulecastCommand.html">한국어</a></li></ul></div></div></div></div></div><div id="master-wrapper" class="master-wrapper clear"><div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc"><h2>Scripting API</h2><div class="version-switcher"><div class="current toggle" data-target=".version-list"><div class="version-number"><div class="d-inline-block">
          Version:
          <b>2019.1</b></div><div class="d-inline-block arrow"></div></div></div><div class="version-list" style="display:none;"><ul><li><a class="docs_version_url_2019.3" href="/zh_CN/2019.3/ScriptReference/UnityEngine.CapsulecastCommand.html">2019.3</a></li><li><a class="docs_version_url_2019.2" href="/zh_CN/2019.2/ScriptReference/UnityEngine.CapsulecastCommand.html">2019.2</a></li><li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/ScriptReference/UnityEngine.CapsulecastCommand.html">2019.1</a></li><li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/ScriptReference/UnityEngine.CapsulecastCommand.html">2018.4</a></li><li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/ScriptReference/UnityEngine.CapsulecastCommand.html">2018.3</a></li><li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/ScriptReference/UnityEngine.CapsulecastCommand.html">2018.2</a></li><li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/ScriptReference/UnityEngine.CapsulecastCommand.html">2018.1</a></li><li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/ScriptReference/UnityEngine.CapsulecastCommand.html">2017.4</a></li><li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/ScriptReference/UnityEngine.CapsulecastCommand.html">2017.3</a></li><li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/ScriptReference/UnityEngine.CapsulecastCommand.html">2017.2</a></li><li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/ScriptReference/UnityEngine.CapsulecastCommand.html">2017.1</a></li><li><a class="docs_version_url_560" href="/zh_CN/560/ScriptReference/UnityEngine.CapsulecastCommand.html">5.6</a></li></ul></div></div><div class="clear"></div></div></div></div></div></div><div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content"><div class="section"><div class="mb20 clear" id=""><h1 class="heading inherit">CapsulecastCommand</h1><div class="clear"></div><p class="cl mb0 left mr10">struct in UnityEngine</p><div class="clear"></div><a href="" class="switch-link gray-btn sbtn left hide">Switch to Manual</a><div class="clear"></div></div><div class="subsection"><div class="signature"><div class="signature-CS sig-block"><span style="color:red;"></span></div></div></div><div class="subsection"><h2>Description</h2><p>Use this struct to set up a capsule cast command that is performed asynchronously during a job.</p></div><div class="subsection"><p>When you use this struct to schedule a batch of capsule casts, the capsule casts are performed asynchronously and in parallel. The results of each capsule cast is written to the results buffer. Since the results are written asynchronously, you cannot access the results buffer until the job is completed.<br /><br />The result for a command at index N in the command buffer is stored at index N in the results buffer.<br /><br />See Also: Physics.Capsulecast.</p></div><div class="subsection">
        
        <pre class="codeExampleCS">
using Unity.Collections;
using Unity.Jobs;
using UnityEngine;<br /><br />public class Example : <a href="MonoBehaviour.html">MonoBehaviour</a>
{
    private void CapsulecastExample()
    {
        // Perform a single capsule cast using <a href="CapsulecastCommand.html">CapsulecastCommand</a> and wait for it to complete
        // Set up the command and result buffers
        var results = new NativeArray&lt;<a href="RaycastHit.html">RaycastHit</a>&gt;(1, <a href="Unity.Collections.Allocator.Temp.html">Allocator.Temp</a>);
        var commands = new NativeArray&lt;<a href="CapsulecastCommand.html">CapsulecastCommand</a>&gt;(1, <a href="Unity.Collections.Allocator.Temp.html">Allocator.Temp</a>);<br /><br />        // Set the data of the first command
        <a href="Vector3.html">Vector3</a> point1 = <a href="Vector3-up.html">Vector3.up</a> * -0.5f;
        <a href="Vector3.html">Vector3</a> point2 = <a href="Vector3-up.html">Vector3.up</a> * 0.5f;
        <a href="Vector3.html">Vector3</a> direction = <a href="Vector3-forward.html">Vector3.forward</a>;
        float radius = 0.5f;<br /><br />        commands[0] = new <a href="CapsulecastCommand.html">CapsulecastCommand</a>(point1, point2, radius, direction);<br /><br />        // Schedule the batch of capsulecasts
        var handle = <a href="CapsulecastCommand.ScheduleBatch.html">CapsulecastCommand.ScheduleBatch</a>(commands, results, 1, default(<a href="Unity.Jobs.JobHandle.html">JobHandle</a>));<br /><br />        // Wait for the batch processing job to complete
        handle.Complete();<br /><br />        // Copy the result. If batchedHit.collider is null, there was no hit
        <a href="RaycastHit.html">RaycastHit</a> batchedHit = results[0];<br /><br />        // Dispose the buffers
        results.Dispose();
        commands.Dispose();
    }
}
</pre>
      </div><div class="subsection"><h2>Variables</h2><table class="list">
      <tr><td class="lbl"><a href="CapsulecastCommand-direction.html">direction</a></td><td class="desc">The direction of the capsule cast.</td></tr>
      <tr><td class="lbl"><a href="CapsulecastCommand-distance.html">distance</a></td><td class="desc">The maximum distance the capsule cast checks for collision.</td></tr>
      <tr><td class="lbl"><a href="CapsulecastCommand-layerMask.html">layerMask</a></td><td class="desc">A LayerMask that selectively ignores Colliders when casting a capsule.</td></tr>
      <tr><td class="lbl"><a href="CapsulecastCommand-point1.html">point1</a></td><td class="desc">胶囊体在 start 处的球体中心。</td></tr>
      <tr><td class="lbl"><a href="CapsulecastCommand-point2.html">point2</a></td><td class="desc">胶囊体在 end 处的球体中心。</td></tr>
      <tr><td class="lbl"><a href="CapsulecastCommand-radius.html">radius</a></td><td class="desc">胶囊体的半径。</td></tr>
    </table></div><div class="subsection"><h2>Constructors</h2><table class="list">
      <tr><td class="lbl"><a href="CapsulecastCommand-ctor.html">CapsulecastCommand</a></td><td class="desc">Creates a CapsulecastCommand.</td></tr>
    </table></div><div class="subsection"><h2>Static Functions</h2><table class="list">
      <tr><td class="lbl"><a href="CapsulecastCommand.ScheduleBatch.html">ScheduleBatch</a></td><td class="desc">Schedules a batch of capsule casts which are performed in a job.</td></tr>
    </table></div></div><div class="footer-wrapper"><div class="footer clear"><div class="copy">Copyright © 2019 Unity Technologies. Publication 2019.1</div><div class="menu"><a href="https://unity3d.com/learn">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a></div></div><div></div></div></div></div></div></div></body></html>