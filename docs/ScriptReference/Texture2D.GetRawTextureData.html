<!DOCTYPE html><html class="no-js"><head><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="twitter:card" content="summary" /><meta name="robots" content="noindex" /><meta property="og:title" content="Texture2D-GetRawTextureData - Unity Scripting API" /><title>Texture2D-GetRawTextureData - Unity Scripting API</title><meta name="description" content="Get raw data from a texture for reading or writing." /><meta property="og:description" content="Get raw data from a texture for reading or writing." /><meta name="author" content="Unity Technologies" /><link rel="shortcut icon" href="../StaticFiles/images/favicons/favicon.ico" /><link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png" /><link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png" /><link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png" /><link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png" /><link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png" /><link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png" /><link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png" /><meta name="msapplication-TileColor" content="#222c37" /><meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png" /><script>
      var docs_type = 'ScriptReference';
      var lang = 'zh_CN';
      var page = 'Texture2D-GetRawTextureData';
      if(!page) page = 'index';
      var version = '2019.1';
      var docs_versions = [{version: '2019.3',version_string: '2019.3'},{version: '2019.2',version_string: '2019.2'},{version: '2019.1',version_string: '2019.1'},{version: '2018.4',version_string: '2018.4'},{version: '2018.3',version_string: '2018.3'},{version: '2018.2',version_string: '2018.2'},{version: '2018.1',version_string: '2018.1'},{version: '2017.4',version_string: '2017.4'},{version: '2017.3',version_string: '2017.3'},{version: '2017.2',version_string: '2017.2'},{version: '2017.1',version_string: '2017.1'},{version: '5.6',version_string: '560'},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css" /><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css" /><link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css" /></head><body><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="header-wrapper"><div id="header" class="header"><div class="content"><div class="spacer"><div class="menu"><div id="nav-open" for="nav-input"><span></span></div><div class="logo"><a href="https://docs.unity3d.com"></a></div><div class="search-form"><form action="30_search.html" method="get" class="apisearch"><input type="text" name="q" placeholder="Search scripting..." autosave="Unity Reference" results="5" class="sbox field" id="q"></input><input type="submit" class="submit"></input></form></div><ul class="menu-items"><li class="menu-item"><a href="../Manual/index.html" class="">Manual</a></li><li class="menu-item"><a href="../ScriptReference/index.html" class="selected">Scripting API</a></li></ul></div></div><div class="more"><div class="filler"></div><ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul></div></div></div><div class="toolbar"><div class="content"><div class="version-switcher"><div class="current toggle" data-target=".version-list"><div class="version-number"><div class="d-inline-block">
          Version:
          <b>2019.1</b></div><div class="d-inline-block arrow"></div></div></div><div class="version-list" style="display:none;"><ul><li><a class="docs_version_url_2019.3" href="/zh_CN/2019.3/ScriptReference/Texture2D-GetRawTextureData.html">2019.3</a></li><li><a class="docs_version_url_2019.2" href="/zh_CN/2019.2/ScriptReference/Texture2D-GetRawTextureData.html">2019.2</a></li><li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/ScriptReference/Texture2D-GetRawTextureData.html">2019.1</a></li><li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/ScriptReference/Texture2D-GetRawTextureData.html">2018.4</a></li><li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/ScriptReference/Texture2D-GetRawTextureData.html">2018.3</a></li><li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/ScriptReference/Texture2D-GetRawTextureData.html">2018.2</a></li><li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/ScriptReference/Texture2D-GetRawTextureData.html">2018.1</a></li><li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/ScriptReference/Texture2D-GetRawTextureData.html">2017.4</a></li><li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/ScriptReference/Texture2D-GetRawTextureData.html">2017.3</a></li><li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/ScriptReference/Texture2D-GetRawTextureData.html">2017.2</a></li><li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/ScriptReference/Texture2D-GetRawTextureData.html">2017.1</a></li><li><a class="docs_version_url_560" href="/zh_CN/560/ScriptReference/Texture2D-GetRawTextureData.html">5.6</a></li></ul></div></div><ul class="nav-menu-items"><li class="menu-item"><a href="../Manual/index.html" class="">Manual</a></li><li class="menu-item"><a href="../ScriptReference/index.html" class="selected">Scripting API</a></li></ul><div class="lang-switcher"><div class="current toggle" data-target=".lang-list"><div class="lbl">Language:
        <span class="b">中文</span></div><div class="arrow"></div></div><div class="lang-list" style="display:none;"><ul><li><a data-lang="en" href="/2019.1/Documentation/ScriptReference/Texture2D-GetRawTextureData.html">English</a></li><li><a data-lang="ja" href="/ja/2019.1/ScriptReference/Texture2D-GetRawTextureData.html">日本語</a></li><li><a data-lang="es" href="/es/2019.1/ScriptReference/Texture2D-GetRawTextureData.html">Español</a></li><li><a data-lang="kr" href="/kr/2019.1/ScriptReference/Texture2D-GetRawTextureData.html">한국어</a></li></ul></div></div></div></div></div><div id="master-wrapper" class="master-wrapper clear"><div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc"><h2>Scripting API</h2><div class="version-switcher"><div class="current toggle" data-target=".version-list"><div class="version-number"><div class="d-inline-block">
          Version:
          <b>2019.1</b></div><div class="d-inline-block arrow"></div></div></div><div class="version-list" style="display:none;"><ul><li><a class="docs_version_url_2019.3" href="/zh_CN/2019.3/ScriptReference/Texture2D-GetRawTextureData.html">2019.3</a></li><li><a class="docs_version_url_2019.2" href="/zh_CN/2019.2/ScriptReference/Texture2D-GetRawTextureData.html">2019.2</a></li><li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/ScriptReference/Texture2D-GetRawTextureData.html">2019.1</a></li><li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/ScriptReference/Texture2D-GetRawTextureData.html">2018.4</a></li><li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/ScriptReference/Texture2D-GetRawTextureData.html">2018.3</a></li><li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/ScriptReference/Texture2D-GetRawTextureData.html">2018.2</a></li><li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/ScriptReference/Texture2D-GetRawTextureData.html">2018.1</a></li><li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/ScriptReference/Texture2D-GetRawTextureData.html">2017.4</a></li><li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/ScriptReference/Texture2D-GetRawTextureData.html">2017.3</a></li><li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/ScriptReference/Texture2D-GetRawTextureData.html">2017.2</a></li><li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/ScriptReference/Texture2D-GetRawTextureData.html">2017.1</a></li><li><a class="docs_version_url_560" href="/zh_CN/560/ScriptReference/Texture2D-GetRawTextureData.html">5.6</a></li></ul></div></div><div class="clear"></div></div></div></div></div></div><div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content"><div class="section"><div class="mb20 clear" id=""><h1 class="heading inherit"><a href="Texture2D.html">Texture2D</a>.GetRawTextureData</h1><div class="clear"></div><div class="clear"></div><a href="" class="switch-link gray-btn sbtn left hide">Switch to Manual</a><div class="clear"></div></div><div class="subsection"><div class="signature"><div class="signature-CS sig-block"><span style="color:red;"></span>public NativeArray&lt;T&gt; <span class="sig-kw">GetRawTextureData</span>
        ();
      </div></div></div><div class="subsection"><h2>Returns</h2><p><strong>NativeArray&lt;T&gt;</strong>
        Raw texture data view.
      </p></div><div class="subsection"><h2>Description</h2><p>Get raw data from a texture for reading or writing.</p></div><div class="subsection"><p>This function returns a direct "view" into the texture pixel data as a <code class="mono">Unity.Collections.NativeArray</code>.<br /><br />The data will be whole texture according to its width, height, data <a href="Texture2D-format.html">format</a> and <a href="Texture2D-mipmapCount.html">mipmapCount</a>. Mipmaps are laid out in memory starting from largest, with smaller mip level data immediately following. For example, a 16x8 texture of <a href="TextureFormat.RGBA32.html">RGBA32</a> format with no mipmaps will result in a 512-byte array (16x8x4), or a 128-element array if <a href="Color32.html">Color32</a> is used as a type.<br /><br />You can read from and write to the returned array. If you write to it, you must call the <a href="Texture2D.Apply.html">Apply</a> method to upload the texture to the GPU.<br /><br />GetRawTextureData does not allocate memory; the returned <code class="mono">NativeArray</code> directly points to the texture system memory data buffer.<br /><br />Note: The returned array can become invalid (i.e. it no longer points to valid memory) if modifications or uploads happen to the texture after you call this method. Therefore the recommended way to use this method is to get the data, and use or modify it immediately. You should not store the returned array for later use.<br /><br />See Also: <a href="Texture2D.Apply.html">Apply</a>, <a href="Texture2D.SetPixels.html">SetPixels</a>, <a href="Texture2D.SetPixels32.html">SetPixels32</a>, <a href="Texture2D.LoadRawTextureData.html">LoadRawTextureData</a>.</p></div><div class="subsection">
        
        <pre class="codeExampleCS">
using UnityEngine;<br /><br />public class ExampleScript : <a href="MonoBehaviour.html">MonoBehaviour</a>
{
    void Start()
    {
        var texture = new <a href="Texture2D.html">Texture2D</a>(128, 128, <a href="TextureFormat.RGBA32.html">TextureFormat.RGBA32</a>, false);
        GetComponent&lt;<a href="Renderer.html">Renderer</a>&gt;().material.mainTexture = texture;<br /><br />        // RGBA32 texture format data layout exactly matches <a href="Color32.html">Color32</a> struct
        var data = texture.GetRawTextureData&lt;<a href="Color32.html">Color32</a>&gt;();<br /><br />        // fill texture data with a simple pattern
        <a href="Color32.html">Color32</a> orange = new <a href="Color32.html">Color32</a>(255, 165, 0, 255);
        <a href="Color32.html">Color32</a> teal = new <a href="Color32.html">Color32</a>(0, 128, 128, 255);
        int index = 0;
        for (int y = 0; y &lt; texture.height; y++)
        {
            for (int x = 0; x &lt; texture.width; x++)
            {
                data[index++] = ((x &amp;amp; y) == 0 ? orange : teal);
            }
        }
        // upload to the GPU
        texture.Apply();
    }
}
</pre>
      </div><hr class="section" /><div class="subsection"><div class="signature"><div class="signature-CS sig-block"><span style="color:red;"></span>public byte[] <span class="sig-kw">GetRawTextureData</span>
        ();
      </div></div></div><div class="subsection"><h2>Returns</h2><p><strong>byte[]</strong>
        原始纹理数据的字节数组。
      </p></div><div class="subsection"><h2>Description</h2><p>从纹理中获取原始数据。</p></div><div class="subsection"><p>该函数将原始纹理数据以字节数组的形式返回，以便您可以使用 <a href="Texture2D.LoadRawTextureData.html">Texture2D.LoadRawTextureData</a> 进行加载。这让您能够序列化和加载任意格式（包括压缩格式）的纹理，并稍后重新将它们加载到纹理中。<br /><br />Note that this function returns Unity's system memory copy of the texture data, so for it to work the texture must have the <a href="TextureImporter-isReadable.html">read/write enabled</a> flag set in the <a href="../Manual/Textures.html">texture import settings</a>.<br /><br />另请注意，系统内存副本可能与当前 GPU 纹理数据中的内容不匹配。例如，
在调用 <a href="Texture2D.SetPixels.html">SetPixels</a> 后，系统内存副本已修改，
但只有在调用 <a href="Texture2D.Apply.html">Apply</a>() 后，GPU 副本才会匹配。对于某些 <a href="Graphics.CopyTexture.html">Graphics.CopyTexture</a>，可能只复制 GPU 纹理部分
（例如从 RenderTexture 复制到 Texture2D），这不会反映在 GetRawTextureData 内容中。</p></div><div class="subsection">
        
        <pre class="codeExampleCS">
using UnityEngine;<br /><br />class CopyTexture : <a href="MonoBehaviour.html">MonoBehaviour</a>
{
    // the source texture.
    <a href="Texture2D.html">Texture2D</a> tex;<br /><br />    void Start()
    {
        // Create a copy of the texture by reading and applying the raw texture data.
        <a href="Texture2D.html">Texture2D</a> texCopy = new <a href="Texture2D.html">Texture2D</a>(tex.width, tex.height, tex.format, tex.mipmapCount &gt; 1);
        texCopy.LoadRawTextureData(tex.GetRawTextureData());
        texCopy.Apply();
    }
}
</pre>
      </div></div><div class="footer-wrapper"><div class="footer clear"><div class="copy">Copyright © 2019 Unity Technologies. Publication 2019.1</div><div class="menu"><a href="https://unity3d.com/learn">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a></div></div><div></div></div></div></div></div></div></body></html>