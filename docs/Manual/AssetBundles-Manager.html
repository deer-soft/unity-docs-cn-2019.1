<!DOCTYPE html><html class="no-js">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta name="robots" content="noindex">
<meta property="og:title" content="AssetBundle Manager - Unity Manual">
<title>AssetBundle Manager - Unity Manual</title>
<meta property="og:image" content="https://docs.unity3d.com/zh_CN/2019.1/uploads/Main/AssetBundles-Manager-4.png">
<meta name="description" content="The AssetBundle Manager is deprecated and is no longer available in the Asset Store. You can still download it from the AssetBundleDemo Bitbucket repository.">
<meta property="og:description" content="The AssetBundle Manager is deprecated and is no longer available in the Asset Store. You can still download it from the AssetBundleDemo Bitbucket repository.">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="../StaticFiles/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script>
      var docs_type = 'Manual';
      var lang = 'zh_CN';
      var page = 'AssetBundles-Manager';
      if(!page) page = 'index';
      var version = '2019.1';
      var docs_versions = [{version: '2019.3',version_string: '2019.3'},{version: '2019.2',version_string: '2019.2'},{version: '2019.1',version_string: '2019.1'},{version: '2018.4',version_string: '2018.4'},{version: '2018.3',version_string: '2018.3'},{version: '2018.2',version_string: '2018.2'},{version: '2018.1',version_string: '2018.1'},{version: '2017.4',version_string: '2017.4'},{version: '2017.3',version_string: '2017.3'},{version: '2017.2',version_string: '2017.2'},{version: '2017.1',version_string: '2017.1'},{version: '5.6',version_string: '560'},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
</head>
<body>
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">Manual</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2019.1</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;"><ul>
<li><a class="docs_version_url_2019.3" href="/zh_CN/2019.3/Manual/AssetBundles-Manager.html">2019.3</a></li>
<li><a class="docs_version_url_2019.2" href="/zh_CN/2019.2/Manual/AssetBundles-Manager.html">2019.2</a></li>
<li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/Manual/AssetBundles-Manager.html">2019.1</a></li>
<li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/Manual/AssetBundles-Manager.html">2018.4</a></li>
<li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/Manual/AssetBundles-Manager.html">2018.3</a></li>
<li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/Manual/AssetBundles-Manager.html">2018.2</a></li>
<li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/Manual/AssetBundles-Manager.html">2018.1</a></li>
<li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/Manual/AssetBundles-Manager.html">2017.4</a></li>
<li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/Manual/AssetBundles-Manager.html">2017.3</a></li>
<li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/Manual/AssetBundles-Manager.html">2017.2</a></li>
<li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/Manual/AssetBundles-Manager.html">2017.1</a></li>
<li><a class="docs_version_url_560" href="/zh_CN/560/Manual/AssetBundles-Manager.html">5.6</a></li>
</ul></div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">Manual</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">Scripting API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">Language:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2019.1/Documentation/Manual/AssetBundles-Manager.html">English</a></li>
<li><a data-lang="ja" href="/ja/2019.1/Manual/AssetBundles-Manager.html">日本語</a></li>
<li><a data-lang="es" href="/es/2019.1/Manual/AssetBundles-Manager.html">Español</a></li>
<li><a data-lang="kr" href="/kr/2019.1/Manual/AssetBundles-Manager.html">한국어</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>Manual</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2019.1</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;"><ul>
<li><a class="docs_version_url_2019.3" href="/zh_CN/2019.3/Manual/AssetBundles-Manager.html">2019.3</a></li>
<li><a class="docs_version_url_2019.2" href="/zh_CN/2019.2/Manual/AssetBundles-Manager.html">2019.2</a></li>
<li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/Manual/AssetBundles-Manager.html">2019.1</a></li>
<li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/Manual/AssetBundles-Manager.html">2018.4</a></li>
<li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/Manual/AssetBundles-Manager.html">2018.3</a></li>
<li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/Manual/AssetBundles-Manager.html">2018.2</a></li>
<li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/Manual/AssetBundles-Manager.html">2018.1</a></li>
<li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/Manual/AssetBundles-Manager.html">2017.4</a></li>
<li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/Manual/AssetBundles-Manager.html">2017.3</a></li>
<li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/Manual/AssetBundles-Manager.html">2017.2</a></li>
<li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/Manual/AssetBundles-Manager.html">2017.1</a></li>
<li><a class="docs_version_url_560" href="/zh_CN/560/Manual/AssetBundles-Manager.html">5.6</a></li>
</ul></div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual (2019.1)</a></li>
<li><a href="UnityOverview.html">在 Unity 中操作</a></li>
<li><a href="AdvancedDevelopment.html">高级开发</a></li>
<li><a href="AssetBundlesIntro.html">AssetBundle</a></li>
<li>AssetBundle Manager</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="AssetBundles-Native.html"></a></span><div class="tip">本机使用 AssetBundle</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="AssetBundles-Patching.html"></a></span><div class="tip">修补 AssetBundle</div>
</div>
</div></div>
<h1>AssetBundle Manager</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>The AssetBundle Manager is deprecated and is no longer available in the Asset Store. You can still download it from the AssetBundleDemo <a href="https://bitbucket.org/Unity-Technologies/assetbundledemo">Bitbucket repository</a>.</p>

<p>The AssetBundle Manager is a tool made by Unity to make using AssetBundles more streamlined.</p>

<p>下载和导入 AssetBundle Manager 软件包不仅会添加新的 API 调用来加载和使用 AssetBundle，还会添加一些 Editor 功能来简化工作流程。可以在 Assets 菜单选项下找到此功能。</p>

<p>这个新的部分将包含以下选项：</p>

<h2>模拟模式</h2>

<p>启用模拟模式允许 AssetBundle Manager 使用 AssetBundle，但不需要实际构建捆绑包本身。编辑器会查看已分配到 AssetBundle 的资源并直接使用资源，而不实际从 AssetBundle 中提取资源。</p>

<p>使用模拟模式的主要优点是可以修改、更新、添加和删除资源，而无需每次都重新构建和部署 AssetBundle。</p>

<p>值得注意的是，AssetBundle 变体不适用于模拟模式。如果需要使用变体，可以选择本地 AssetBundle 服务器 (Local AssetBundle Server)。</p>

<h2>本地 AssetBundle 服务器</h2>

<p>AssetBundle Manager 还可以启动本地 AssetBundle 服务器，该服务器可用于在编辑器或本地构建（包括移动端）中测试 AssetBundle。</p>

<p>要让本地 AssetBundle 服务器工作，规定必须在项目的根目录中创建一个名为 AssetBundles 的文件夹，该文件夹与 Assets 文件夹应处于同一级别。例如：</p>

<figure>
<img src="../uploads/Main/AssetBundles-Manager-4.png" alt="">
</figure>

<p>创建文件夹后，需要将 AssetBundle 构建到此文件夹。为此，请从新菜单选项中选择 Build AssetBundles。随后会将资源包构建到该目录。</p>

<p>现在已经构建了 AssetBundle（或已决定使用模拟模式），并准备开始加载 AssetBundle。让我们看看通过 AssetBundle Manager 可以使用的新 API 调用。</p>

<h2>AssetBundleManager.Initialize()</h2>

<p>此函数将加载 AssetBundleManifest 对象。开始使用 AssetBundle Manager 在资源中加载此对象之前，需要首先调用此对象。在一个非常简单的示例中，初始化 AssetBundle Manager 可能如下所示：</p>

<pre><code>IEnumerator Start()

{
    yield return StartCoroutine(Initialize());
}
IEnumerator Initialize()
{
    var request = AssetBundleManager.Initialize();
if (request != null)
    yield return StartCoroutine(request);
}
</code></pre>

<p>AssetBundle Manager 使用在 Initialize() 期间加载的清单来帮助处理幕后的许多功能，包括依赖项管理。</p>

<h2>加载资源</h2>

<p>让我们直截了当一点。当前您正在使用 AssetBundle Manager，已对其进行初始化，现在已准备好加载一些资源。我们来看看如何加载 AssetBundle 并从该捆绑包实例化一个对象：</p>

<pre><code>IEnumerator InstantiateGameObjectAsync (string assetBundleName, string assetName)

{
    // 从 assetBundle 加载资源。
    AssetBundleLoadAssetOperation request = AssetBundleManager.LoadAssetAsync(assetBundleName, assetName, typeof(GameObject) );
    if (request == null)
        yield break;
    yield return StartCoroutine(request);
    // 获取资源。
    GameObject prefab = request.GetAsset&lt;GameObject&gt; ();
    if (prefab != null)
        GameObject.Instantiate(prefab);
}
</code></pre>

<p>AssetBundle Manager 异步执行所有加载操作，因此会返回一个加载操作请求，该请求在调用 yield return StartCoroutine(request); 时加载包。此后我们需要做的就是调用 GetAsset&lt;T&gt;() 以从 AssetBundle 中加载游戏对象。</p>

<h2>加载场景</h2>

<p>如果有一个 AssetBundle 名称分配给一个场景，而且需要加载该场景，那么需要遵循一个稍微不同的代码路径。模式大致相同，但略有区别。从 AssetBundle 加载场景的方法如下：</p>

<pre><code>IEnumerator InitializeLevelAsync (string levelName, bool isAdditive)

{
    // 从 assetBundle 加载关卡。
    AssetBundleLoadOperation request = AssetBundleManager.LoadLevelAsync(sceneAssetBundle, levelName, isAdditive);
    if (request == null)
        yield break;
    yield return StartCoroutine(request);
}
</code></pre>

<p>如您所见，加载场景也是异步的，LoadLevelAsync 返回一个加载操作请求，需要将其传递给 StartCoroutine 以加载场景。</p>

<h2>加载变体</h2>

<p>使用 AssetBundle Manager 加载变体实际上并不会更改在场景或资源中加载的代码。只需要设置 AssetBundleManager 的 ActiveVariants 属性即可。</p>

<p>ActiveVariants 属性是一个字符串数组。只需构建一个字符串数组，在其中包含在将它们分配给资源时创建的变体的名称。使用 hd 变量加载场景 AssetBundle 的方法如下。</p>

<pre><code>IEnumerator InitializeLevelAsync (string levelName, bool isAdditive, string[] variants)

{
    //设置 activeVariants。
    AssetBundleManager.ActiveVariants = variants;
    // 从 assetBundle 加载关卡。
    AssetBundleLoadOperation request = AssetBundleManager.LoadLevelAsync(variantSceneAssetBundle, levelName, isAdditive);
    if (request == null)
        yield break;
    yield return StartCoroutine(request);
}
</code></pre>

<p>此处将会传入在代码中其他位置构建的字符串数组（可能来自按钮点击或其他情况）。这样将会加载与设定的活动变体相匹配的捆绑包（如果可用）。</p>

<hr>

<ul>
<li><span class="page-edit">2017–05–15 Page published with no <a href="DocumentationEditorialReview.html">editorial review</a>
</span></li>
</ul>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="AssetBundles-Native.html"></a></span><div class="tip">本机使用 AssetBundle</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="AssetBundles-Patching.html"></a></span><div class="tip">修补 AssetBundle</div>
</div>
</div>
</div>
<div class="footer-wrapper">
<div class="footer clear">
<div class="copy">Copyright © 2019 Unity Technologies. Publication 2019.1</div>
<div class="menu">
<a href="https://unity3d.com/learn">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div>
<div></div>
</div>
</div></div></div>
</div>
</body>
</html>
