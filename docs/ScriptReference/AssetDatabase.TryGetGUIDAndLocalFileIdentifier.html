<!DOCTYPE html><html class="no-js"><head><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="twitter:card" content="summary" /><meta name="robots" content="noindex" /><meta property="og:title" content="AssetDatabase-TryGetGUIDAndLocalFileIdentifier - Unity Scripting API" /><title>AssetDatabase-TryGetGUIDAndLocalFileIdentifier - Unity Scripting API</title><meta name="description" content="&#xA;        Warning Use the overload with a long localId parameter. Using the overload with an integer localId parameter can cause an integer overflow in localId. This can happen when the object passed to the API is part of a Prefab.从对象实例 ID 中获取 GUID 和本地文件 ID。" /><meta property="og:description" content="&#xA;        Warning Use the overload with a long localId parameter. Using the overload with an integer localId parameter can cause an integer overflow in localId. This can happen when the object passed to the API is part of a Prefab.从对象实例 ID 中获取 GUID 和本地文件 ID。" /><meta name="author" content="Unity Technologies" /><link rel="shortcut icon" href="../StaticFiles/images/favicons/favicon.ico" /><link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png" /><link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png" /><link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png" /><link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png" /><link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png" /><link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png" /><link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png" /><meta name="msapplication-TileColor" content="#222c37" /><meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png" /><script>
      var docs_type = 'ScriptReference';
      var lang = 'zh_CN';
      var page = 'AssetDatabase-TryGetGUIDAndLocalFileIdentifier';
      if(!page) page = 'index';
      var version = '2019.1';
      var docs_versions = [{version: '2019.3',version_string: '2019.3'},{version: '2019.2',version_string: '2019.2'},{version: '2019.1',version_string: '2019.1'},{version: '2018.4',version_string: '2018.4'},{version: '2018.3',version_string: '2018.3'},{version: '2018.2',version_string: '2018.2'},{version: '2018.1',version_string: '2018.1'},{version: '2017.4',version_string: '2017.4'},{version: '2017.3',version_string: '2017.3'},{version: '2017.2',version_string: '2017.2'},{version: '2017.1',version_string: '2017.1'},{version: '5.6',version_string: '560'},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css" /><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css" /><link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css" /></head><body><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="header-wrapper"><div id="header" class="header"><div class="content"><div class="spacer"><div class="menu"><div id="nav-open" for="nav-input"><span></span></div><div class="logo"><a href="https://docs.unity3d.com"></a></div><div class="search-form"><form action="30_search.html" method="get" class="apisearch"><input type="text" name="q" placeholder="Search scripting..." autosave="Unity Reference" results="5" class="sbox field" id="q"></input><input type="submit" class="submit"></input></form></div><ul class="menu-items"><li class="menu-item"><a href="../Manual/index.html" class="">Manual</a></li><li class="menu-item"><a href="../ScriptReference/index.html" class="selected">Scripting API</a></li></ul></div></div><div class="more"><div class="filler"></div><ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul></div></div></div><div class="toolbar"><div class="content"><div class="version-switcher"><div class="current toggle" data-target=".version-list"><div class="version-number"><div class="d-inline-block">
          Version:
          <b>2019.1</b></div><div class="d-inline-block arrow"></div></div></div><div class="version-list" style="display:none;"><ul><li><a class="docs_version_url_2019.3" href="/zh_CN/2019.3/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">2019.3</a></li><li><a class="docs_version_url_2019.2" href="/zh_CN/2019.2/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">2019.2</a></li><li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">2019.1</a></li><li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">2018.4</a></li><li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">2018.3</a></li><li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">2018.2</a></li><li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">2018.1</a></li><li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">2017.4</a></li><li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">2017.3</a></li><li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">2017.2</a></li><li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">2017.1</a></li><li><a class="docs_version_url_560" href="/zh_CN/560/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">5.6</a></li></ul></div></div><ul class="nav-menu-items"><li class="menu-item"><a href="../Manual/index.html" class="">Manual</a></li><li class="menu-item"><a href="../ScriptReference/index.html" class="selected">Scripting API</a></li></ul><div class="lang-switcher"><div class="current toggle" data-target=".lang-list"><div class="lbl">Language:
        <span class="b">中文</span></div><div class="arrow"></div></div><div class="lang-list" style="display:none;"><ul><li><a data-lang="en" href="/2019.1/Documentation/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">English</a></li><li><a data-lang="ja" href="/ja/2019.1/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">日本語</a></li><li><a data-lang="es" href="/es/2019.1/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">Español</a></li><li><a data-lang="kr" href="/kr/2019.1/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">한국어</a></li></ul></div></div></div></div></div><div id="master-wrapper" class="master-wrapper clear"><div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc"><h2>Scripting API</h2><div class="version-switcher"><div class="current toggle" data-target=".version-list"><div class="version-number"><div class="d-inline-block">
          Version:
          <b>2019.1</b></div><div class="d-inline-block arrow"></div></div></div><div class="version-list" style="display:none;"><ul><li><a class="docs_version_url_2019.3" href="/zh_CN/2019.3/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">2019.3</a></li><li><a class="docs_version_url_2019.2" href="/zh_CN/2019.2/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">2019.2</a></li><li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">2019.1</a></li><li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">2018.4</a></li><li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">2018.3</a></li><li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">2018.2</a></li><li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">2018.1</a></li><li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">2017.4</a></li><li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">2017.3</a></li><li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">2017.2</a></li><li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">2017.1</a></li><li><a class="docs_version_url_560" href="/zh_CN/560/ScriptReference/AssetDatabase-TryGetGUIDAndLocalFileIdentifier.html">5.6</a></li></ul></div></div><div class="clear"></div></div></div></div></div></div><div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content"><div class="section"><div class="mb20 clear" id=""><h1 class="heading inherit"><a href="AssetDatabase.html">AssetDatabase</a>.TryGetGUIDAndLocalFileIdentifier</h1><div class="clear"></div><div class="clear"></div><a href="" class="switch-link gray-btn sbtn left hide">Switch to Manual</a><div class="clear"></div></div><div class="subsection"><div class="signature"><div class="signature-CS sig-block"><span style="color:red;">Obsolete </span>public static bool <span class="sig-kw">TryGetGUIDAndLocalFileIdentifier</span>
        (<a href="Object.html">Object</a> <span class="sig-kw">obj</span>,
    out string <span class="sig-kw">guid</span>,
    out int <span class="sig-kw">localId</span>);
      </div><div class="signature-CS sig-block"><span style="color:red;">Obsolete </span>public static bool <span class="sig-kw">TryGetGUIDAndLocalFileIdentifier</span>
        (int <span class="sig-kw">instanceID</span>,
    out string <span class="sig-kw">guid</span>,
    out int <span class="sig-kw">localId</span>);
      </div><div class="signature-CS sig-block"><span style="color:red;"></span>public static bool <span class="sig-kw">TryGetGUIDAndLocalFileIdentifier</span>
        (<a href="Object.html">Object</a> <span class="sig-kw">obj</span>,
    out string <span class="sig-kw">guid</span>,
    out long <span class="sig-kw">localId</span>);
      </div><div class="signature-CS sig-block"><span style="color:red;"></span>public static bool <span class="sig-kw">TryGetGUIDAndLocalFileIdentifier</span>
        (int <span class="sig-kw">instanceID</span>,
    out string <span class="sig-kw">guid</span>,
    out long <span class="sig-kw">localId</span>);
      </div></div></div><div class="subsection"><h2>Parameters</h2><table class="list"><tr><td class="name lbl">instanceID</td><td class="desc">要检索其信息的对象的实例 ID。</td></tr><tr><td class="name lbl">obj</td><td class="desc">要检索其 GUID 和文件 ID 的对象。</td></tr><tr><td class="name lbl">guid</td><td class="desc">资源的 GUID。</td></tr><tr><td class="name lbl">localId</td><td class="desc">该资源的本地文件标识符。</td></tr></table></div><div class="subsection"><h2>Returns</h2><p><strong>bool</strong>
        如果成功找到 GUID 和文件 ID，则返回 true；否则，返回 false。
      </p></div><div class="subsection"><h2>Description</h2><p>
        <strong>Warning</strong> Use the overload with a long <em>localId</em> parameter. Using the overload with an integer <em>localId</em> parameter can cause an integer overflow in <em>localId</em>. This can happen when the object passed to the API is part of a Prefab.<br /><br />从对象实例 ID 中获取 GUID 和本地文件 ID。</p></div><div class="subsection"><p>当 Unity 序列化资源引用时，此函数会指向 GUID 和文件 ID。GUID 是唯一哈希值，文件 ID 是相对于资源的值。当序列化资源引用另一资源时，会使用这两个值。<br /><br />If working with a text serialized project (see <a href="../Manual/class-EditorManager.html">Editor Settings</a>) it is possible to manually modify this information. A common use is moving C# script files from a project to a DLL while keeping any GameObjects using these scripts intact. As an example, suppose your project contains a C# MonoBehaviour, a Scene, and a GameObject with this script attached. When serialized the Unity Scene file will contain something that looks like this (reduced to the relevant parts):</p></div><div class="subsection">
        
        <pre class="codeExampleCS">
/* example .unity <a href="SceneManagement.Scene.html">Scene</a> contents:<br /><br />--- !u!1 &amp;amp;65078845
<a href="GameObject.html">GameObject</a>:
  m_Component:
  -component: {fileID : 65078850}
--- !u!114 &amp;amp;65078850
<a href="MonoBehaviour.html">MonoBehaviour</a>:
  m_Script: {fileID : 11500000, guid : 9cbd8cdf99d44b58972fbc7f6f38088f, type : 3}<br /><br />*/
</pre>
      </div><div class="subsection">
        
        <pre class="codeExampleCS">
using System.Text;
using UnityEngine;
using <a href="UnityEditor.html">UnityEditor</a>;<br /><br />class ShowAssetIds
{
    [<a href="MenuItem.html">MenuItem</a>("Assets/Show <a href="VersionControl.Asset.html">Asset</a> Ids")]
    static void MenuShowIds()
    {
        var stringBuilder = new StringBuilder();<br /><br />        foreach (var obj in <a href="AssetDatabase.LoadAllAssetsAtPath.html">AssetDatabase.LoadAllAssetsAtPath</a>(<a href="AssetDatabase.GetAssetPath.html">AssetDatabase.GetAssetPath</a>(<a href="Selection-activeObject.html">Selection.activeObject</a>)))
        {
            string guid;
            long file;<br /><br />            if (<a href="AssetDatabase.TryGetGUIDAndLocalFileIdentifier.html">AssetDatabase.TryGetGUIDAndLocalFileIdentifier</a>(obj, out guid, out file))
            {
                stringBuilder.AppendFormat("<a href="VersionControl.Asset.html">Asset</a>: " + obj.name +
                    "\n  Instance ID: " + obj.GetInstanceID() +
                    "\n  GUID: " + guid +
                    "\n  <a href="Windows.File.html">File</a> ID: " + file);
            }
        }<br /><br />        <a href="Debug.Log.html">Debug.Log</a>(stringBuilder.ToString());
    }
}
</pre>
      </div></div><div class="footer-wrapper"><div class="footer clear"><div class="copy">Copyright © 2019 Unity Technologies. Publication 2019.1</div><div class="menu"><a href="https://unity3d.com/learn">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a></div></div><div></div></div></div></div></div></div></body></html>